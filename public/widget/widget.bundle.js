(function(x,P){typeof exports=="object"&&typeof module!="undefined"?module.exports=P(require("react"),require("react-dom"),require("react-router-dom"),require("chart.js"),require("react-i18next"),require("zod"),require("axios"),require("i18next"),require("i18next-browser-languagedetector")):typeof define=="function"&&define.amd?define(["react","react-dom","react-router-dom","chart.js","react-i18next","zod","axios","i18next","i18next-browser-languagedetector"],P):(x=typeof globalThis!="undefined"?globalThis:x||self,x.VestivaWidget=P(x.React,x.ReactDOM,x.ReactRouterDOM,x.Chart,x.ReactI18next,x.Zod,x.axios,x.i18next,x.i18nextBrowserLanguageDetector))})(this,function(x,P,R,G,J,Q,er,et,ke){"use strict";var Ki=Object.defineProperty,Gi=Object.defineProperties;var Yi=Object.getOwnPropertyDescriptors;var Gt=Object.getOwnPropertySymbols;var fs=Object.prototype.hasOwnProperty,ps=Object.prototype.propertyIsEnumerable;var bs=x=>{throw TypeError(x)},vs=Math.pow,Mr=(x,P,R)=>P in x?Ki(x,P,{enumerable:!0,configurable:!0,writable:!0,value:R}):x[P]=R,S=(x,P)=>{for(var R in P||(P={}))fs.call(P,R)&&Mr(x,R,P[R]);if(Gt)for(var R of Gt(P))ps.call(P,R)&&Mr(x,R,P[R]);return x},V=(x,P)=>Gi(x,Yi(P));var Yt=(x,P)=>{var R={};for(var G in x)fs.call(x,G)&&P.indexOf(G)<0&&(R[G]=x[G]);if(x!=null&&Gt)for(var G of Gt(x))P.indexOf(G)<0&&ps.call(x,G)&&(R[G]=x[G]);return R};var Jt=(x,P,R)=>Mr(x,typeof P!="symbol"?P+"":P,R),Ir=(x,P,R)=>P.has(x)||bs("Cannot "+R);var i=(x,P,R)=>(Ir(x,P,"read from private field"),R?R.call(x):P.get(x)),A=(x,P,R)=>P.has(x)?bs("Cannot add the same private member more than once"):P instanceof WeakSet?P.add(x):P.set(x,R),w=(x,P,R,G)=>(Ir(x,P,"write to private field"),G?G.call(x,R):P.set(x,R),R),D=(x,P,R)=>(Ir(x,P,"access private method"),R);var Xt=(x,P,R,G)=>({set _(J){w(x,P,J,R)},get _(){return i(x,P,G)}});var re=(x,P,R)=>new Promise((G,J)=>{var Q=ke=>{try{et(R.next(ke))}catch(vt){J(vt)}},er=ke=>{try{et(R.throw(ke))}catch(vt){J(vt)}},et=ke=>ke.done?G(ke.value):Promise.resolve(ke.value).then(Q,er);et((R=R.apply(x,P)).next())});var Ve,Te,nt,$a,it,Pe,ot,La,Qe,_a,lt,ct,me,ze,ae,St,We,fe,Se,Ba,be,qa,ve,se,Ke,je,Le,Ha,we,pe,Tt,Va,Y,Oe,Re,dt,ut,Me,ht,mt,Qa,le,$,Pt,ne,Ge,gt,Ie,De,Ot,xt,yt,Ye,Je,Fe,ft,B,It,Dr,Fr,Ur,$r,Lr,_r,Br,js,za,Ue,$e,ce,Ce,Ee,Zt,qr,Wa;function vt(r){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const a in r)if(a!=="default"){const s=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}return t.default=r,Object.freeze(t)}const te=vt(x);var tr={exports:{}},jt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr;function ks(){if(Hr)return jt;Hr=1;var r=x,t=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(h,m,y){var j,u={},g=null,d=null;y!==void 0&&(g=""+y),m.key!==void 0&&(g=""+m.key),m.ref!==void 0&&(d=m.ref);for(j in m)s.call(m,j)&&!c.hasOwnProperty(j)&&(u[j]=m[j]);if(h&&h.defaultProps)for(j in m=h.defaultProps,m)u[j]===void 0&&(u[j]=m[j]);return{$$typeof:t,type:h,key:g,ref:d,props:u,_owner:o.current}}return jt.Fragment=a,jt.jsx=l,jt.jsxs=l,jt}var kt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr;function Ns(){return Vr||(Vr=1,process.env.NODE_ENV!=="production"&&function(){var r=x,t=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),d=Symbol.for("react.offscreen"),k=Symbol.iterator,p="@@iterator";function N(n){if(n===null||typeof n!="object")return null;var f=k&&n[k]||n[p];return typeof f=="function"?f:null}var M=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function I(n){{for(var f=arguments.length,C=new Array(f>1?f-1:0),T=1;T<f;T++)C[T-1]=arguments[T];K("error",n,C)}}function K(n,f,C){{var T=M.ReactDebugCurrentFrame,q=T.getStackAddendum();q!==""&&(f+="%s",C=C.concat([q]));var z=C.map(function(_){return String(_)});z.unshift("Warning: "+f),Function.prototype.apply.call(console[n],console,z)}}var L=!1,W=!1,H=!1,E=!1,b=!1,F;F=Symbol.for("react.module.reference");function v(n){return!!(typeof n=="string"||typeof n=="function"||n===s||n===c||b||n===o||n===y||n===j||E||n===d||L||W||H||typeof n=="object"&&n!==null&&(n.$$typeof===g||n.$$typeof===u||n.$$typeof===l||n.$$typeof===h||n.$$typeof===m||n.$$typeof===F||n.getModuleId!==void 0))}function ie(n,f,C){var T=n.displayName;if(T)return T;var q=f.displayName||f.name||"";return q!==""?C+"("+q+")":C}function Ae(n){return n.displayName||"Context"}function ue(n){if(n==null)return null;if(typeof n.tag=="number"&&I("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case s:return"Fragment";case a:return"Portal";case c:return"Profiler";case o:return"StrictMode";case y:return"Suspense";case j:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case h:var f=n;return Ae(f)+".Consumer";case l:var C=n;return Ae(C._context)+".Provider";case m:return ie(n,n.render,"ForwardRef");case u:var T=n.displayName||null;return T!==null?T:ue(n.type)||"Memo";case g:{var q=n,z=q._payload,_=q._init;try{return ue(_(z))}catch(U){return null}}}return null}var Xe=Object.assign,Rt=0,Ka,Ga,Ya,Ja,Xa,Za,es;function ts(){}ts.__reactDisabledLog=!0;function ji(){{if(Rt===0){Ka=console.log,Ga=console.info,Ya=console.warn,Ja=console.error,Xa=console.group,Za=console.groupCollapsed,es=console.groupEnd;var n={configurable:!0,enumerable:!0,value:ts,writable:!0};Object.defineProperties(console,{info:n,log:n,warn:n,error:n,group:n,groupCollapsed:n,groupEnd:n})}Rt++}}function ki(){{if(Rt--,Rt===0){var n={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Xe({},n,{value:Ka}),info:Xe({},n,{value:Ga}),warn:Xe({},n,{value:Ya}),error:Xe({},n,{value:Ja}),group:Xe({},n,{value:Xa}),groupCollapsed:Xe({},n,{value:Za}),groupEnd:Xe({},n,{value:es})})}Rt<0&&I("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Cr=M.ReactCurrentDispatcher,Er;function Qt(n,f,C){{if(Er===void 0)try{throw Error()}catch(q){var T=q.stack.trim().match(/\n( *(at )?)/);Er=T&&T[1]||""}return`
`+Er+n}}var Ar=!1,zt;{var Ni=typeof WeakMap=="function"?WeakMap:Map;zt=new Ni}function rs(n,f){if(!n||Ar)return"";{var C=zt.get(n);if(C!==void 0)return C}var T;Ar=!0;var q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var z;z=Cr.current,Cr.current=null,ji();try{if(f){var _=function(){throw Error()};if(Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(de){T=de}Reflect.construct(n,[],_)}else{try{_.call()}catch(de){T=de}n.call(_.prototype)}}else{try{throw Error()}catch(de){T=de}n()}}catch(de){if(de&&T&&typeof de.stack=="string"){for(var U=de.stack.split(`
`),oe=T.stack.split(`
`),X=U.length-1,Z=oe.length-1;X>=1&&Z>=0&&U[X]!==oe[Z];)Z--;for(;X>=1&&Z>=0;X--,Z--)if(U[X]!==oe[Z]){if(X!==1||Z!==1)do if(X--,Z--,Z<0||U[X]!==oe[Z]){var ge=`
`+U[X].replace(" at new "," at ");return n.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",n.displayName)),typeof n=="function"&&zt.set(n,ge),ge}while(X>=1&&Z>=0);break}}}finally{Ar=!1,Cr.current=z,ki(),Error.prepareStackTrace=q}var bt=n?n.displayName||n.name:"",Ze=bt?Qt(bt):"";return typeof n=="function"&&zt.set(n,Ze),Ze}function wi(n,f,C){return rs(n,!1)}function Ci(n){var f=n.prototype;return!!(f&&f.isReactComponent)}function Wt(n,f,C){if(n==null)return"";if(typeof n=="function")return rs(n,Ci(n));if(typeof n=="string")return Qt(n);switch(n){case y:return Qt("Suspense");case j:return Qt("SuspenseList")}if(typeof n=="object")switch(n.$$typeof){case m:return wi(n.render);case u:return Wt(n.type,f,C);case g:{var T=n,q=T._payload,z=T._init;try{return Wt(z(q),f,C)}catch(_){}}}return""}var Mt=Object.prototype.hasOwnProperty,as={},ss=M.ReactDebugCurrentFrame;function Kt(n){if(n){var f=n._owner,C=Wt(n.type,n._source,f?f.type:null);ss.setExtraStackFrame(C)}else ss.setExtraStackFrame(null)}function Ei(n,f,C,T,q){{var z=Function.call.bind(Mt);for(var _ in n)if(z(n,_)){var U=void 0;try{if(typeof n[_]!="function"){var oe=Error((T||"React class")+": "+C+" type `"+_+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof n[_]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw oe.name="Invariant Violation",oe}U=n[_](f,_,T,C,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(X){U=X}U&&!(U instanceof Error)&&(Kt(q),I("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",T||"React class",C,_,typeof U),Kt(null)),U instanceof Error&&!(U.message in as)&&(as[U.message]=!0,Kt(q),I("Failed %s type: %s",C,U.message),Kt(null))}}}var Ai=Array.isArray;function Sr(n){return Ai(n)}function Si(n){{var f=typeof Symbol=="function"&&Symbol.toStringTag,C=f&&n[Symbol.toStringTag]||n.constructor.name||"Object";return C}}function Ti(n){try{return ns(n),!1}catch(f){return!0}}function ns(n){return""+n}function is(n){if(Ti(n))return I("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Si(n)),ns(n)}var os=M.ReactCurrentOwner,Pi={key:!0,ref:!0,__self:!0,__source:!0},ls,cs;function Oi(n){if(Mt.call(n,"ref")){var f=Object.getOwnPropertyDescriptor(n,"ref").get;if(f&&f.isReactWarning)return!1}return n.ref!==void 0}function Ri(n){if(Mt.call(n,"key")){var f=Object.getOwnPropertyDescriptor(n,"key").get;if(f&&f.isReactWarning)return!1}return n.key!==void 0}function Mi(n,f){typeof n.ref=="string"&&os.current}function Ii(n,f){{var C=function(){ls||(ls=!0,I("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",f))};C.isReactWarning=!0,Object.defineProperty(n,"key",{get:C,configurable:!0})}}function Di(n,f){{var C=function(){cs||(cs=!0,I("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",f))};C.isReactWarning=!0,Object.defineProperty(n,"ref",{get:C,configurable:!0})}}var Fi=function(n,f,C,T,q,z,_){var U={$$typeof:t,type:n,key:f,ref:C,props:_,_owner:z};return U._store={},Object.defineProperty(U._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(U,"_self",{configurable:!1,enumerable:!1,writable:!1,value:T}),Object.defineProperty(U,"_source",{configurable:!1,enumerable:!1,writable:!1,value:q}),Object.freeze&&(Object.freeze(U.props),Object.freeze(U)),U};function Ui(n,f,C,T,q){{var z,_={},U=null,oe=null;C!==void 0&&(is(C),U=""+C),Ri(f)&&(is(f.key),U=""+f.key),Oi(f)&&(oe=f.ref,Mi(f,q));for(z in f)Mt.call(f,z)&&!Pi.hasOwnProperty(z)&&(_[z]=f[z]);if(n&&n.defaultProps){var X=n.defaultProps;for(z in X)_[z]===void 0&&(_[z]=X[z])}if(U||oe){var Z=typeof n=="function"?n.displayName||n.name||"Unknown":n;U&&Ii(_,Z),oe&&Di(_,Z)}return Fi(n,U,oe,q,T,os.current,_)}}var Tr=M.ReactCurrentOwner,ds=M.ReactDebugCurrentFrame;function pt(n){if(n){var f=n._owner,C=Wt(n.type,n._source,f?f.type:null);ds.setExtraStackFrame(C)}else ds.setExtraStackFrame(null)}var Pr;Pr=!1;function Or(n){return typeof n=="object"&&n!==null&&n.$$typeof===t}function us(){{if(Tr.current){var n=ue(Tr.current.type);if(n)return`

Check the render method of \``+n+"`."}return""}}function $i(n){return""}var hs={};function Li(n){{var f=us();if(!f){var C=typeof n=="string"?n:n.displayName||n.name;C&&(f=`

Check the top-level render call using <`+C+">.")}return f}}function ms(n,f){{if(!n._store||n._store.validated||n.key!=null)return;n._store.validated=!0;var C=Li(f);if(hs[C])return;hs[C]=!0;var T="";n&&n._owner&&n._owner!==Tr.current&&(T=" It was passed a child from "+ue(n._owner.type)+"."),pt(n),I('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',C,T),pt(null)}}function gs(n,f){{if(typeof n!="object")return;if(Sr(n))for(var C=0;C<n.length;C++){var T=n[C];Or(T)&&ms(T,f)}else if(Or(n))n._store&&(n._store.validated=!0);else if(n){var q=N(n);if(typeof q=="function"&&q!==n.entries)for(var z=q.call(n),_;!(_=z.next()).done;)Or(_.value)&&ms(_.value,f)}}}function _i(n){{var f=n.type;if(f==null||typeof f=="string")return;var C;if(typeof f=="function")C=f.propTypes;else if(typeof f=="object"&&(f.$$typeof===m||f.$$typeof===u))C=f.propTypes;else return;if(C){var T=ue(f);Ei(C,n.props,"prop",T,n)}else if(f.PropTypes!==void 0&&!Pr){Pr=!0;var q=ue(f);I("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",q||"Unknown")}typeof f.getDefaultProps=="function"&&!f.getDefaultProps.isReactClassApproved&&I("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Bi(n){{for(var f=Object.keys(n.props),C=0;C<f.length;C++){var T=f[C];if(T!=="children"&&T!=="key"){pt(n),I("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",T),pt(null);break}}n.ref!==null&&(pt(n),I("Invalid attribute `ref` supplied to `React.Fragment`."),pt(null))}}var xs={};function ys(n,f,C,T,q,z){{var _=v(n);if(!_){var U="";(n===void 0||typeof n=="object"&&n!==null&&Object.keys(n).length===0)&&(U+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var oe=$i();oe?U+=oe:U+=us();var X;n===null?X="null":Sr(n)?X="array":n!==void 0&&n.$$typeof===t?(X="<"+(ue(n.type)||"Unknown")+" />",U=" Did you accidentally export a JSX literal instead of a component?"):X=typeof n,I("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",X,U)}var Z=Ui(n,f,C,q,z);if(Z==null)return Z;if(_){var ge=f.children;if(ge!==void 0)if(T)if(Sr(ge)){for(var bt=0;bt<ge.length;bt++)gs(ge[bt],n);Object.freeze&&Object.freeze(ge)}else I("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else gs(ge,n)}if(Mt.call(f,"key")){var Ze=ue(n),de=Object.keys(f).filter(function(Wi){return Wi!=="key"}),Rr=de.length>0?"{key: someKey, "+de.join(": ..., ")+": ...}":"{key: someKey}";if(!xs[Ze+Rr]){var zi=de.length>0?"{"+de.join(": ..., ")+": ...}":"{}";I(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Rr,Ze,zi,Ze),xs[Ze+Rr]=!0}}return n===s?Bi(Z):_i(Z),Z}}function qi(n,f,C){return ys(n,f,C,!0)}function Hi(n,f,C){return ys(n,f,C,!1)}var Vi=Hi,Qi=qi;kt.Fragment=s,kt.jsx=Vi,kt.jsxs=Qi}()),kt}process.env.NODE_ENV==="production"?tr.exports=ks():tr.exports=Ns();var e=tr.exports,rr,Dt=P;if(process.env.NODE_ENV==="production")rr=Dt.createRoot,Dt.hydrateRoot;else{var Qr=Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;rr=function(r,t){Qr.usingClientEntryPoint=!0;try{return Dt.createRoot(r,t)}finally{Qr.usingClientEntryPoint=!1}}}const ar=[{id:"vestiva",name:"Vestiva",colors:{primary:"#002060",secondary:"#003087",accent:"#0047BB",primaryRgb:"0, 32, 96",secondaryRgb:"0, 48, 135",accentRgb:"0, 71, 187"},logoBackground:"white"},{id:"dolarapp",name:"DolarApp",colors:{primary:"#34D399",secondary:"#059669",accent:"#047857",primaryRgb:"52, 211, 153",secondaryRgb:"5, 150, 105",accentRgb:"4, 120, 87"},logoBackground:"primary"},{id:"azul",name:"Azul",colors:{primary:"#60A5FA",secondary:"#3B82F6",accent:"#1D4ED8",primaryRgb:"96, 165, 250",secondaryRgb:"59, 130, 246",accentRgb:"29, 78, 216"},logoBackground:"white"},{id:"rojo",name:"Rojo",colors:{primary:"#EF4444",secondary:"#DC2626",accent:"#B91C1C",primaryRgb:"239, 68, 68",secondaryRgb:"220, 38, 38",accentRgb:"185, 28, 28"},logoBackground:"white"},{id:"verde",name:"Verde",colors:{primary:"#34D399",secondary:"#059669",accent:"#047857",primaryRgb:"52, 211, 153",secondaryRgb:"5, 150, 105",accentRgb:"4, 120, 87"},logoBackground:"primary"},{id:"purpura",name:"Púrpura",colors:{primary:"#A78BFA",secondary:"#7C3AED",accent:"#6D28D9",primaryRgb:"167, 139, 250",secondaryRgb:"124, 58, 237",accentRgb:"109, 40, 217"},logoBackground:"white"},{id:"azul-oscuro",name:"Azul Oscuro",colors:{primary:"#3B82F6",secondary:"#1D4ED8",accent:"#1E3A8A",primaryRgb:"59, 130, 246",secondaryRgb:"29, 78, 216",accentRgb:"30, 58, 138"},logoBackground:"white"},{id:"azul-marino",name:"Azul Marino",colors:{primary:"#60A5FA",secondary:"#2563EB",accent:"#1E40AF",primaryRgb:"96, 165, 250",secondaryRgb:"37, 99, 235",accentRgb:"30, 64, 175"},logoBackground:"white"},{id:"escala-grises",name:"Escala de Grises",colors:{primary:"#6B7280",secondary:"#4B5563",accent:"#374151",primaryRgb:"107, 114, 128",secondaryRgb:"75, 85, 99",accentRgb:"55, 65, 81"},logoBackground:"white"},{id:"negro-total",name:"Negro Total",colors:{primary:"#1F2937",secondary:"#111827",accent:"#030712",primaryRgb:"31, 41, 55",secondaryRgb:"17, 24, 39",accentRgb:"3, 7, 18"},logoBackground:"white"}],zr=x.createContext(void 0);function ws({children:r,initialTheme:t="light"}){const[a,s]=x.useState(()=>localStorage.getItem("theme")||t),[o,c]=x.useState(()=>{const y=localStorage.getItem("colorTheme");return y?JSON.parse(y):ar[0]});x.useEffect(()=>{localStorage.setItem("theme",a),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(a)},[a]),x.useEffect(()=>{localStorage.setItem("colorTheme",JSON.stringify(o));const y=document.documentElement;y.style.setProperty("--color-primary-rgb",o.colors.primaryRgb),y.style.setProperty("--color-secondary-rgb",o.colors.secondaryRgb),y.style.setProperty("--color-accent-rgb",o.colors.accentRgb)},[o]);const l=()=>{s(y=>y==="light"?"dark":"light")},h=y=>{const j=ar.find(u=>u.id===y);j&&c(j)},m=()=>{c(y=>V(S({},y),{logoBackground:y.logoBackground==="white"?"primary":"white"}))};return e.jsx(zr.Provider,{value:{theme:a,colorTheme:o,toggleTheme:l,setColorTheme:h,toggleLogoBackground:m},children:r})}function _e(){const r=x.useContext(zr);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r}var tt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Be=typeof window=="undefined"||"Deno"in globalThis;function he(){}function Cs(r,t){return typeof r=="function"?r(t):r}function sr(r){return typeof r=="number"&&r>=0&&r!==1/0}function Wr(r,t){return Math.max(r+(t||0)-Date.now(),0)}function rt(r,t){return typeof r=="function"?r(t):r}function xe(r,t){return typeof r=="function"?r(t):r}function Kr(r,t){const{type:a="all",exact:s,fetchStatus:o,predicate:c,queryKey:l,stale:h}=r;if(l){if(s){if(t.queryHash!==nr(l,t.options))return!1}else if(!Nt(t.queryKey,l))return!1}if(a!=="all"){const m=t.isActive();if(a==="active"&&!m||a==="inactive"&&m)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||o&&o!==t.state.fetchStatus||c&&!c(t))}function Gr(r,t){const{exact:a,status:s,predicate:o,mutationKey:c}=r;if(c){if(!t.options.mutationKey)return!1;if(a){if(qe(t.options.mutationKey)!==qe(c))return!1}else if(!Nt(t.options.mutationKey,c))return!1}return!(s&&t.state.status!==s||o&&!o(t))}function nr(r,t){return((t==null?void 0:t.queryKeyHashFn)||qe)(r)}function qe(r){return JSON.stringify(r,(t,a)=>or(a)?Object.keys(a).sort().reduce((s,o)=>(s[o]=a[o],s),{}):a)}function Nt(r,t){return r===t?!0:typeof r!=typeof t?!1:r&&t&&typeof r=="object"&&typeof t=="object"?Object.keys(t).every(a=>Nt(r[a],t[a])):!1}function ir(r,t){if(r===t)return r;const a=Yr(r)&&Yr(t);if(a||or(r)&&or(t)){const s=a?r:Object.keys(r),o=s.length,c=a?t:Object.keys(t),l=c.length,h=a?[]:{};let m=0;for(let y=0;y<l;y++){const j=a?y:c[y];(!a&&s.includes(j)||a)&&r[j]===void 0&&t[j]===void 0?(h[j]=void 0,m++):(h[j]=ir(r[j],t[j]),h[j]===r[j]&&r[j]!==void 0&&m++)}return o===l&&m===o?r:h}return t}function Ft(r,t){if(!t||Object.keys(r).length!==Object.keys(t).length)return!1;for(const a in r)if(r[a]!==t[a])return!1;return!0}function Yr(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function or(r){if(!Jr(r))return!1;const t=r.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!Jr(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function Jr(r){return Object.prototype.toString.call(r)==="[object Object]"}function Es(r){return new Promise(t=>{setTimeout(t,r)})}function lr(r,t,a){if(typeof a.structuralSharing=="function")return a.structuralSharing(r,t);if(a.structuralSharing!==!1){if(process.env.NODE_ENV!=="production")try{return ir(r,t)}catch(s){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${a.queryHash}]: ${s}`),s}return ir(r,t)}return t}function As(r,t,a=0){const s=[...r,t];return a&&s.length>a?s.slice(1):s}function Ss(r,t,a=0){const s=[t,...r];return a&&s.length>a?s.slice(0,-1):s}var Ut=Symbol();function Xr(r,t){return process.env.NODE_ENV!=="production"&&r.queryFn===Ut&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${r.queryHash}'`),!r.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!r.queryFn||r.queryFn===Ut?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Ts=($a=class extends tt{constructor(){super();A(this,Ve);A(this,Te);A(this,nt);w(this,nt,t=>{if(!Be&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){i(this,Te)||this.setEventListener(i(this,nt))}onUnsubscribe(){var t;this.hasListeners()||((t=i(this,Te))==null||t.call(this),w(this,Te,void 0))}setEventListener(t){var a;w(this,nt,t),(a=i(this,Te))==null||a.call(this),w(this,Te,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){i(this,Ve)!==t&&(w(this,Ve,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){var t;return typeof i(this,Ve)=="boolean"?i(this,Ve):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ve=new WeakMap,Te=new WeakMap,nt=new WeakMap,$a),cr=new Ts,Ps=(La=class extends tt{constructor(){super();A(this,it,!0);A(this,Pe);A(this,ot);w(this,ot,t=>{if(!Be&&window.addEventListener){const a=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}})}onSubscribe(){i(this,Pe)||this.setEventListener(i(this,ot))}onUnsubscribe(){var t;this.hasListeners()||((t=i(this,Pe))==null||t.call(this),w(this,Pe,void 0))}setEventListener(t){var a;w(this,ot,t),(a=i(this,Pe))==null||a.call(this),w(this,Pe,t(this.setOnline.bind(this)))}setOnline(t){i(this,it)!==t&&(w(this,it,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return i(this,it)}},it=new WeakMap,Pe=new WeakMap,ot=new WeakMap,La),$t=new Ps;function dr(){let r,t;const a=new Promise((o,c)=>{r=o,t=c});a.status="pending",a.catch(()=>{});function s(o){Object.assign(a,o),delete a.resolve,delete a.reject}return a.resolve=o=>{s({status:"fulfilled",value:o}),r(o)},a.reject=o=>{s({status:"rejected",reason:o}),t(o)},a}function Os(r){return Math.min(1e3*vs(2,r),3e4)}function Zr(r){return(r!=null?r:"online")==="online"?$t.isOnline():!0}var ea=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function ur(r){return r instanceof ea}function ta(r){let t=!1,a=0,s=!1,o;const c=dr(),l=p=>{var N;s||(g(new ea(p)),(N=r.abort)==null||N.call(r))},h=()=>{t=!0},m=()=>{t=!1},y=()=>cr.isFocused()&&(r.networkMode==="always"||$t.isOnline())&&r.canRun(),j=()=>Zr(r.networkMode)&&r.canRun(),u=p=>{var N;s||(s=!0,(N=r.onSuccess)==null||N.call(r,p),o==null||o(),c.resolve(p))},g=p=>{var N;s||(s=!0,(N=r.onError)==null||N.call(r,p),o==null||o(),c.reject(p))},d=()=>new Promise(p=>{var N;o=M=>{(s||y())&&p(M)},(N=r.onPause)==null||N.call(r)}).then(()=>{var p;o=void 0,s||(p=r.onContinue)==null||p.call(r)}),k=()=>{if(s)return;let p;const N=a===0?r.initialPromise:void 0;try{p=N!=null?N:r.fn()}catch(M){p=Promise.reject(M)}Promise.resolve(p).then(u).catch(M=>{var H,E,b;if(s)return;const I=(H=r.retry)!=null?H:Be?0:3,K=(E=r.retryDelay)!=null?E:Os,L=typeof K=="function"?K(a,M):K,W=I===!0||typeof I=="number"&&a<I||typeof I=="function"&&I(a,M);if(t||!W){g(M);return}a++,(b=r.onFail)==null||b.call(r,a,M),Es(L).then(()=>y()?void 0:d()).then(()=>{t?g(M):k()})})};return{promise:c,cancel:l,continue:()=>(o==null||o(),c),cancelRetry:h,continueRetry:m,canStart:j,start:()=>(j()?k():d().then(k),c)}}var Rs=r=>setTimeout(r,0);function Ms(){let r=[],t=0,a=h=>{h()},s=h=>{h()},o=Rs;const c=h=>{t?r.push(h):o(()=>{a(h)})},l=()=>{const h=r;r=[],h.length&&o(()=>{s(()=>{h.forEach(m=>{a(m)})})})};return{batch:h=>{let m;t++;try{m=h()}finally{t--,t||l()}return m},batchCalls:h=>(...m)=>{c(()=>{h(...m)})},schedule:c,setNotifyFunction:h=>{a=h},setBatchNotifyFunction:h=>{s=h},setScheduler:h=>{o=h}}}var ee=Ms(),ra=(_a=class{constructor(){A(this,Qe)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sr(this.gcTime)&&w(this,Qe,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r!=null?r:Be?1/0:5*60*1e3)}clearGcTimeout(){i(this,Qe)&&(clearTimeout(i(this,Qe)),w(this,Qe,void 0))}},Qe=new WeakMap,_a),Is=(Ba=class extends ra{constructor(t){var a;super();A(this,fe);A(this,lt);A(this,ct);A(this,me);A(this,ze);A(this,ae);A(this,St);A(this,We);w(this,We,!1),w(this,St,t.defaultOptions),this.setOptions(t.options),this.observers=[],w(this,ze,t.client),w(this,me,i(this,ze).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,w(this,lt,Ds(this.options)),this.state=(a=t.state)!=null?a:i(this,lt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=i(this,ae))==null?void 0:t.promise}setOptions(t){this.options=S(S({},i(this,St)),t),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&i(this,me).remove(this)}setData(t,a){const s=lr(this.state.data,t,this.options);return D(this,fe,Se).call(this,{data:s,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),s}setState(t,a){D(this,fe,Se).call(this,{type:"setState",state:t,setStateOptions:a})}cancel(t){var s,o;const a=(s=i(this,ae))==null?void 0:s.promise;return(o=i(this,ae))==null||o.cancel(t),a?a.then(he).catch(he):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(i(this,lt))}isActive(){return this.observers.some(t=>xe(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ut||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Wr(this.state.dataUpdatedAt,t)}onFocus(){var a;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(a=i(this,ae))==null||a.continue()}onOnline(){var a;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(a=i(this,ae))==null||a.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),i(this,me).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(i(this,ae)&&(i(this,We)?i(this,ae).cancel({revert:!0}):i(this,ae).cancelRetry()),this.scheduleGc()),i(this,me).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||D(this,fe,Se).call(this,{type:"invalidate"})}fetch(t,a){var m,y,j;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(i(this,ae))return i(this,ae).continueRetry(),i(this,ae).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(g=>g.options.queryFn);u&&this.setOptions(u.options)}process.env.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));const s=new AbortController,o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(w(this,We,!0),s.signal)})},c=()=>{const u=Xr(this.options,a),g={client:i(this,ze),queryKey:this.queryKey,meta:this.meta};return o(g),w(this,We,!1),this.options.persister?this.options.persister(u,g,this):u(g)},l={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:i(this,ze),state:this.state,fetchFn:c};o(l),(m=this.options.behavior)==null||m.onFetch(l,this),w(this,ct,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=l.fetchOptions)==null?void 0:y.meta))&&D(this,fe,Se).call(this,{type:"fetch",meta:(j=l.fetchOptions)==null?void 0:j.meta});const h=u=>{var g,d,k,p;ur(u)&&u.silent||D(this,fe,Se).call(this,{type:"error",error:u}),ur(u)||((d=(g=i(this,me).config).onError)==null||d.call(g,u,this),(p=(k=i(this,me).config).onSettled)==null||p.call(k,this.state.data,u,this)),this.scheduleGc()};return w(this,ae,ta({initialPromise:a==null?void 0:a.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:u=>{var g,d,k,p;if(u===void 0){process.env.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(N){h(N);return}(d=(g=i(this,me).config).onSuccess)==null||d.call(g,u,this),(p=(k=i(this,me).config).onSettled)==null||p.call(k,u,this.state.error,this),this.scheduleGc()},onError:h,onFail:(u,g)=>{D(this,fe,Se).call(this,{type:"failed",failureCount:u,error:g})},onPause:()=>{D(this,fe,Se).call(this,{type:"pause"})},onContinue:()=>{D(this,fe,Se).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),i(this,ae).start()}},lt=new WeakMap,ct=new WeakMap,me=new WeakMap,ze=new WeakMap,ae=new WeakMap,St=new WeakMap,We=new WeakMap,fe=new WeakSet,Se=function(t){const a=s=>{var o,c;switch(t.type){case"failed":return V(S({},s),{fetchFailureCount:t.failureCount,fetchFailureReason:t.error});case"pause":return V(S({},s),{fetchStatus:"paused"});case"continue":return V(S({},s),{fetchStatus:"fetching"});case"fetch":return V(S(S({},s),aa(s.data,this.options)),{fetchMeta:(o=t.meta)!=null?o:null});case"success":return S(V(S({},s),{data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(c=t.dataUpdatedAt)!=null?c:Date.now(),error:null,isInvalidated:!1,status:"success"}),!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const l=t.error;return ur(l)&&l.revert&&i(this,ct)?V(S({},i(this,ct)),{fetchStatus:"idle"}):V(S({},s),{error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"});case"invalidate":return V(S({},s),{isInvalidated:!0});case"setState":return S(S({},s),t.state)}};this.state=a(this.state),ee.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),i(this,me).notify({query:this,type:"updated",action:t})})},Ba);function aa(r,t){return S({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zr(t.networkMode)?"fetching":"paused"},r===void 0&&{error:null,status:"pending"})}function Ds(r){const t=typeof r.initialData=="function"?r.initialData():r.initialData,a=t!==void 0,s=a?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?s!=null?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Fs=(qa=class extends tt{constructor(t={}){super();A(this,be);this.config=t,w(this,be,new Map)}build(t,a,s){var h;const o=a.queryKey,c=(h=a.queryHash)!=null?h:nr(o,a);let l=this.get(c);return l||(l=new Is({client:t,queryKey:o,queryHash:c,options:t.defaultQueryOptions(a),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(l)),l}add(t){i(this,be).has(t.queryHash)||(i(this,be).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=i(this,be).get(t.queryHash);a&&(t.destroy(),a===t&&i(this,be).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ee.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return i(this,be).get(t)}getAll(){return[...i(this,be).values()]}find(t){const a=S({exact:!0},t);return this.getAll().find(s=>Kr(a,s))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(s=>Kr(t,s)):a}notify(t){ee.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){ee.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ee.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},be=new WeakMap,qa),Us=(Ha=class extends ra{constructor(t){super();A(this,je);A(this,ve);A(this,se);A(this,Ke);this.mutationId=t.mutationId,w(this,se,t.mutationCache),w(this,ve,[]),this.state=t.state||sa(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){i(this,ve).includes(t)||(i(this,ve).push(t),this.clearGcTimeout(),i(this,se).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){w(this,ve,i(this,ve).filter(a=>a!==t)),this.scheduleGc(),i(this,se).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){i(this,ve).length||(this.state.status==="pending"?this.scheduleGc():i(this,se).remove(this))}continue(){var t,a;return(a=(t=i(this,Ke))==null?void 0:t.continue())!=null?a:this.execute(this.state.variables)}execute(t){return re(this,null,function*(){var c,l,h,m,y,j,u,g,d,k,p,N,M,I,K,L,W,H,E,b,F;const a=()=>{D(this,je,Le).call(this,{type:"continue"})};w(this,Ke,ta({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(v,ie)=>{D(this,je,Le).call(this,{type:"failed",failureCount:v,error:ie})},onPause:()=>{D(this,je,Le).call(this,{type:"pause"})},onContinue:a,retry:(c=this.options.retry)!=null?c:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>i(this,se).canRun(this)}));const s=this.state.status==="pending",o=!i(this,Ke).canStart();try{if(s)a();else{D(this,je,Le).call(this,{type:"pending",variables:t,isPaused:o}),yield(h=(l=i(this,se).config).onMutate)==null?void 0:h.call(l,t,this);const ie=yield(y=(m=this.options).onMutate)==null?void 0:y.call(m,t);ie!==this.state.context&&D(this,je,Le).call(this,{type:"pending",context:ie,variables:t,isPaused:o})}const v=yield i(this,Ke).start();return yield(u=(j=i(this,se).config).onSuccess)==null?void 0:u.call(j,v,t,this.state.context,this),yield(d=(g=this.options).onSuccess)==null?void 0:d.call(g,v,t,this.state.context),yield(p=(k=i(this,se).config).onSettled)==null?void 0:p.call(k,v,null,this.state.variables,this.state.context,this),yield(M=(N=this.options).onSettled)==null?void 0:M.call(N,v,null,t,this.state.context),D(this,je,Le).call(this,{type:"success",data:v}),v}catch(v){try{throw yield(K=(I=i(this,se).config).onError)==null?void 0:K.call(I,v,t,this.state.context,this),yield(W=(L=this.options).onError)==null?void 0:W.call(L,v,t,this.state.context),yield(E=(H=i(this,se).config).onSettled)==null?void 0:E.call(H,void 0,v,this.state.variables,this.state.context,this),yield(F=(b=this.options).onSettled)==null?void 0:F.call(b,void 0,v,t,this.state.context),v}finally{D(this,je,Le).call(this,{type:"error",error:v})}}finally{i(this,se).runNext(this)}})}},ve=new WeakMap,se=new WeakMap,Ke=new WeakMap,je=new WeakSet,Le=function(t){const a=s=>{switch(t.type){case"failed":return V(S({},s),{failureCount:t.failureCount,failureReason:t.error});case"pause":return V(S({},s),{isPaused:!0});case"continue":return V(S({},s),{isPaused:!1});case"pending":return V(S({},s),{context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()});case"success":return V(S({},s),{data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return V(S({},s),{data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"})}};this.state=a(this.state),ee.batch(()=>{i(this,ve).forEach(s=>{s.onMutationUpdate(t)}),i(this,se).notify({mutation:this,type:"updated",action:t})})},Ha);function sa(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $s=(Va=class extends tt{constructor(t={}){super();A(this,we);A(this,pe);A(this,Tt);this.config=t,w(this,we,new Set),w(this,pe,new Map),w(this,Tt,0)}build(t,a,s){const o=new Us({mutationCache:this,mutationId:++Xt(this,Tt)._,options:t.defaultMutationOptions(a),state:s});return this.add(o),o}add(t){i(this,we).add(t);const a=Lt(t);if(typeof a=="string"){const s=i(this,pe).get(a);s?s.push(t):i(this,pe).set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(i(this,we).delete(t)){const a=Lt(t);if(typeof a=="string"){const s=i(this,pe).get(a);if(s)if(s.length>1){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}else s[0]===t&&i(this,pe).delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Lt(t);if(typeof a=="string"){const s=i(this,pe).get(a),o=s==null?void 0:s.find(c=>c.state.status==="pending");return!o||o===t}else return!0}runNext(t){var s,o;const a=Lt(t);if(typeof a=="string"){const c=(s=i(this,pe).get(a))==null?void 0:s.find(l=>l!==t&&l.state.isPaused);return(o=c==null?void 0:c.continue())!=null?o:Promise.resolve()}else return Promise.resolve()}clear(){ee.batch(()=>{i(this,we).forEach(t=>{this.notify({type:"removed",mutation:t})}),i(this,we).clear(),i(this,pe).clear()})}getAll(){return Array.from(i(this,we))}find(t){const a=S({exact:!0},t);return this.getAll().find(s=>Gr(a,s))}findAll(t={}){return this.getAll().filter(a=>Gr(t,a))}notify(t){ee.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return ee.batch(()=>Promise.all(t.map(a=>a.continue().catch(he))))}},we=new WeakMap,pe=new WeakMap,Tt=new WeakMap,Va);function Lt(r){var t;return(t=r.options.scope)==null?void 0:t.id}function na(r){return{onFetch:(t,a)=>{var j,u,g,d,k;const s=t.options,o=(g=(u=(j=t.fetchOptions)==null?void 0:j.meta)==null?void 0:u.fetchMore)==null?void 0:g.direction,c=((d=t.state.data)==null?void 0:d.pages)||[],l=((k=t.state.data)==null?void 0:k.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const y=()=>re(this,null,function*(){var K;let p=!1;const N=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},M=Xr(t.options,t.fetchOptions),I=(L,W,H)=>re(this,null,function*(){if(p)return Promise.reject();if(W==null&&L.pages.length)return Promise.resolve(L);const E={client:t.client,queryKey:t.queryKey,pageParam:W,direction:H?"backward":"forward",meta:t.options.meta};N(E);const b=yield M(E),{maxPages:F}=t.options,v=H?Ss:As;return{pages:v(L.pages,b,F),pageParams:v(L.pageParams,W,F)}});if(o&&c.length){const L=o==="backward",W=L?Ls:ia,H={pages:c,pageParams:l},E=W(s,H);h=yield I(H,E,L)}else{const L=r!=null?r:c.length;do{const W=m===0?(K=l[0])!=null?K:s.initialPageParam:ia(s,h);if(m>0&&W==null)break;h=yield I(h,W),m++}while(m<L)}return h});t.options.persister?t.fetchFn=()=>{var p,N;return(N=(p=t.options).persister)==null?void 0:N.call(p,y,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a)}:t.fetchFn=y}}}function ia(r,{pages:t,pageParams:a}){const s=t.length-1;return t.length>0?r.getNextPageParam(t[s],t,a[s],a):void 0}function Ls(r,{pages:t,pageParams:a}){var s;return t.length>0?(s=r.getPreviousPageParam)==null?void 0:s.call(r,t[0],t,a[0],a):void 0}var _s=(Qa=class{constructor(r={}){A(this,Y);A(this,Oe);A(this,Re);A(this,dt);A(this,ut);A(this,Me);A(this,ht);A(this,mt);w(this,Y,r.queryCache||new Fs),w(this,Oe,r.mutationCache||new $s),w(this,Re,r.defaultOptions||{}),w(this,dt,new Map),w(this,ut,new Map),w(this,Me,0)}mount(){Xt(this,Me)._++,i(this,Me)===1&&(w(this,ht,cr.subscribe(r=>re(this,null,function*(){r&&(yield this.resumePausedMutations(),i(this,Y).onFocus())}))),w(this,mt,$t.subscribe(r=>re(this,null,function*(){r&&(yield this.resumePausedMutations(),i(this,Y).onOnline())}))))}unmount(){var r,t;Xt(this,Me)._--,i(this,Me)===0&&((r=i(this,ht))==null||r.call(this),w(this,ht,void 0),(t=i(this,mt))==null||t.call(this),w(this,mt,void 0))}isFetching(r){return i(this,Y).findAll(V(S({},r),{fetchStatus:"fetching"})).length}isMutating(r){return i(this,Oe).findAll(V(S({},r),{status:"pending"})).length}getQueryData(r){var a;const t=this.defaultQueryOptions({queryKey:r});return(a=i(this,Y).get(t.queryHash))==null?void 0:a.state.data}ensureQueryData(r){const t=this.defaultQueryOptions(r),a=i(this,Y).build(this,t),s=a.state.data;return s===void 0?this.fetchQuery(r):(r.revalidateIfStale&&a.isStaleByTime(rt(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(r){return i(this,Y).findAll(r).map(({queryKey:t,state:a})=>{const s=a.data;return[t,s]})}setQueryData(r,t,a){const s=this.defaultQueryOptions({queryKey:r}),o=i(this,Y).get(s.queryHash),c=o==null?void 0:o.state.data,l=Cs(t,c);if(l!==void 0)return i(this,Y).build(this,s).setData(l,V(S({},a),{manual:!0}))}setQueriesData(r,t,a){return ee.batch(()=>i(this,Y).findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,t,a)]))}getQueryState(r){var a;const t=this.defaultQueryOptions({queryKey:r});return(a=i(this,Y).get(t.queryHash))==null?void 0:a.state}removeQueries(r){const t=i(this,Y);ee.batch(()=>{t.findAll(r).forEach(a=>{t.remove(a)})})}resetQueries(r,t){const a=i(this,Y);return ee.batch(()=>(a.findAll(r).forEach(s=>{s.reset()}),this.refetchQueries(S({type:"active"},r),t)))}cancelQueries(r,t={}){const a=S({revert:!0},t),s=ee.batch(()=>i(this,Y).findAll(r).map(o=>o.cancel(a)));return Promise.all(s).then(he).catch(he)}invalidateQueries(r,t={}){return ee.batch(()=>{var a,s;return i(this,Y).findAll(r).forEach(o=>{o.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries(V(S({},r),{type:(s=(a=r==null?void 0:r.refetchType)!=null?a:r==null?void 0:r.type)!=null?s:"active"}),t)})}refetchQueries(r,t={}){var o;const a=V(S({},t),{cancelRefetch:(o=t.cancelRefetch)!=null?o:!0}),s=ee.batch(()=>i(this,Y).findAll(r).filter(c=>!c.isDisabled()).map(c=>{let l=c.fetch(void 0,a);return a.throwOnError||(l=l.catch(he)),c.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(he)}fetchQuery(r){const t=this.defaultQueryOptions(r);t.retry===void 0&&(t.retry=!1);const a=i(this,Y).build(this,t);return a.isStaleByTime(rt(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(he).catch(he)}fetchInfiniteQuery(r){return r.behavior=na(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(he).catch(he)}ensureInfiniteQueryData(r){return r.behavior=na(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return $t.isOnline()?i(this,Oe).resumePausedMutations():Promise.resolve()}getQueryCache(){return i(this,Y)}getMutationCache(){return i(this,Oe)}getDefaultOptions(){return i(this,Re)}setDefaultOptions(r){w(this,Re,r)}setQueryDefaults(r,t){i(this,dt).set(qe(r),{queryKey:r,defaultOptions:t})}getQueryDefaults(r){const t=[...i(this,dt).values()],a={};return t.forEach(s=>{Nt(r,s.queryKey)&&Object.assign(a,s.defaultOptions)}),a}setMutationDefaults(r,t){i(this,ut).set(qe(r),{mutationKey:r,defaultOptions:t})}getMutationDefaults(r){const t=[...i(this,ut).values()],a={};return t.forEach(s=>{Nt(r,s.mutationKey)&&Object.assign(a,s.defaultOptions)}),a}defaultQueryOptions(r){if(r._defaulted)return r;const t=V(S(S(S({},i(this,Re).queries),this.getQueryDefaults(r.queryKey)),r),{_defaulted:!0});return t.queryHash||(t.queryHash=nr(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ut&&(t.enabled=!1),t}defaultMutationOptions(r){return r!=null&&r._defaulted?r:V(S(S(S({},i(this,Re).mutations),(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey)),r),{_defaulted:!0})}clear(){i(this,Y).clear(),i(this,Oe).clear()}},Y=new WeakMap,Oe=new WeakMap,Re=new WeakMap,dt=new WeakMap,ut=new WeakMap,Me=new WeakMap,ht=new WeakMap,mt=new WeakMap,Qa),Bs=(za=class extends tt{constructor(t,a){super();A(this,B);A(this,le);A(this,$);A(this,Pt);A(this,ne);A(this,Ge);A(this,gt);A(this,Ie);A(this,De);A(this,Ot);A(this,xt);A(this,yt);A(this,Ye);A(this,Je);A(this,Fe);A(this,ft,new Set);this.options=a,w(this,le,t),w(this,De,null),w(this,Ie,dr()),this.options.experimental_prefetchInRender||i(this,Ie).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,$).addObserver(this),oa(i(this,$),this.options)?D(this,B,It).call(this):this.updateResult(),D(this,B,$r).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hr(i(this,$),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hr(i(this,$),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,D(this,B,Lr).call(this),D(this,B,_r).call(this),i(this,$).removeObserver(this)}setOptions(t){const a=this.options,s=i(this,$);if(this.options=i(this,le).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xe(this.options.enabled,i(this,$))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");D(this,B,Br).call(this),i(this,$).setOptions(this.options),a._defaulted&&!Ft(this.options,a)&&i(this,le).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,$),observer:this});const o=this.hasListeners();o&&la(i(this,$),s,this.options,a)&&D(this,B,It).call(this),this.updateResult(),o&&(i(this,$)!==s||xe(this.options.enabled,i(this,$))!==xe(a.enabled,i(this,$))||rt(this.options.staleTime,i(this,$))!==rt(a.staleTime,i(this,$)))&&D(this,B,Dr).call(this);const c=D(this,B,Fr).call(this);o&&(i(this,$)!==s||xe(this.options.enabled,i(this,$))!==xe(a.enabled,i(this,$))||c!==i(this,Fe))&&D(this,B,Ur).call(this,c)}getOptimisticResult(t){const a=i(this,le).getQueryCache().build(i(this,le),t),s=this.createResult(a,t);return Hs(this,s)&&(w(this,ne,s),w(this,gt,this.options),w(this,Ge,i(this,$).state)),s}getCurrentResult(){return i(this,ne)}trackResult(t,a){const s={};return Object.keys(t).forEach(o=>{Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),a==null||a(o),t[o])})}),s}trackProp(t){i(this,ft).add(t)}getCurrentQuery(){return i(this,$)}refetch(a={}){var t=Yt(a,[]);return this.fetch(S({},t))}fetchOptimistic(t){const a=i(this,le).defaultQueryOptions(t),s=i(this,le).getQueryCache().build(i(this,le),a);return s.fetch().then(()=>this.createResult(s,a))}fetch(t){var a;return D(this,B,It).call(this,V(S({},t),{cancelRefetch:(a=t.cancelRefetch)!=null?a:!0})).then(()=>(this.updateResult(),i(this,ne)))}createResult(t,a){var F;const s=i(this,$),o=this.options,c=i(this,ne),l=i(this,Ge),h=i(this,gt),y=t!==s?t.state:i(this,Pt),{state:j}=t;let u=S({},j),g=!1,d;if(a._optimisticResults){const v=this.hasListeners(),ie=!v&&oa(t,a),Ae=v&&la(t,s,a,o);(ie||Ae)&&(u=S(S({},u),aa(j.data,t.options))),a._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:k,errorUpdatedAt:p,status:N}=u;d=u.data;let M=!1;if(a.placeholderData!==void 0&&d===void 0&&N==="pending"){let v;c!=null&&c.isPlaceholderData&&a.placeholderData===(h==null?void 0:h.placeholderData)?(v=c.data,M=!0):v=typeof a.placeholderData=="function"?a.placeholderData((F=i(this,yt))==null?void 0:F.state.data,i(this,yt)):a.placeholderData,v!==void 0&&(N="success",d=lr(c==null?void 0:c.data,v,a),g=!0)}if(a.select&&d!==void 0&&!M)if(c&&d===(l==null?void 0:l.data)&&a.select===i(this,Ot))d=i(this,xt);else try{w(this,Ot,a.select),d=a.select(d),d=lr(c==null?void 0:c.data,d,a),w(this,xt,d),w(this,De,null)}catch(v){w(this,De,v)}i(this,De)&&(k=i(this,De),d=i(this,xt),p=Date.now(),N="error");const I=u.fetchStatus==="fetching",K=N==="pending",L=N==="error",W=K&&I,H=d!==void 0,b={status:N,fetchStatus:u.fetchStatus,isPending:K,isSuccess:N==="success",isError:L,isInitialLoading:W,isLoading:W,data:d,dataUpdatedAt:u.dataUpdatedAt,error:k,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>y.dataUpdateCount||u.errorUpdateCount>y.errorUpdateCount,isFetching:I,isRefetching:I&&!K,isLoadingError:L&&!H,isPaused:u.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:L&&H,isStale:mr(t,a),refetch:this.refetch,promise:i(this,Ie)};if(this.options.experimental_prefetchInRender){const v=ue=>{b.status==="error"?ue.reject(b.error):b.data!==void 0&&ue.resolve(b.data)},ie=()=>{const ue=w(this,Ie,b.promise=dr());v(ue)},Ae=i(this,Ie);switch(Ae.status){case"pending":t.queryHash===s.queryHash&&v(Ae);break;case"fulfilled":(b.status==="error"||b.data!==Ae.value)&&ie();break;case"rejected":(b.status!=="error"||b.error!==Ae.reason)&&ie();break}}return b}updateResult(){const t=i(this,ne),a=this.createResult(i(this,$),this.options);if(w(this,Ge,i(this,$).state),w(this,gt,this.options),i(this,Ge).data!==void 0&&w(this,yt,i(this,$)),Ft(a,t))return;w(this,ne,a);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!i(this,ft).size)return!0;const l=new Set(c!=null?c:i(this,ft));return this.options.throwOnError&&l.add("error"),Object.keys(i(this,ne)).some(h=>{const m=h;return i(this,ne)[m]!==t[m]&&l.has(m)})};D(this,B,js).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&D(this,B,$r).call(this)}},le=new WeakMap,$=new WeakMap,Pt=new WeakMap,ne=new WeakMap,Ge=new WeakMap,gt=new WeakMap,Ie=new WeakMap,De=new WeakMap,Ot=new WeakMap,xt=new WeakMap,yt=new WeakMap,Ye=new WeakMap,Je=new WeakMap,Fe=new WeakMap,ft=new WeakMap,B=new WeakSet,It=function(t){D(this,B,Br).call(this);let a=i(this,$).fetch(this.options,t);return t!=null&&t.throwOnError||(a=a.catch(he)),a},Dr=function(){D(this,B,Lr).call(this);const t=rt(this.options.staleTime,i(this,$));if(Be||i(this,ne).isStale||!sr(t))return;const s=Wr(i(this,ne).dataUpdatedAt,t)+1;w(this,Ye,setTimeout(()=>{i(this,ne).isStale||this.updateResult()},s))},Fr=function(){var t;return(t=typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,$)):this.options.refetchInterval)!=null?t:!1},Ur=function(t){D(this,B,_r).call(this),w(this,Fe,t),!(Be||xe(this.options.enabled,i(this,$))===!1||!sr(i(this,Fe))||i(this,Fe)===0)&&w(this,Je,setInterval(()=>{(this.options.refetchIntervalInBackground||cr.isFocused())&&D(this,B,It).call(this)},i(this,Fe)))},$r=function(){D(this,B,Dr).call(this),D(this,B,Ur).call(this,D(this,B,Fr).call(this))},Lr=function(){i(this,Ye)&&(clearTimeout(i(this,Ye)),w(this,Ye,void 0))},_r=function(){i(this,Je)&&(clearInterval(i(this,Je)),w(this,Je,void 0))},Br=function(){const t=i(this,le).getQueryCache().build(i(this,le),this.options);if(t===i(this,$))return;const a=i(this,$);w(this,$,t),w(this,Pt,t.state),this.hasListeners()&&(a==null||a.removeObserver(this),t.addObserver(this))},js=function(t){ee.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(i(this,ne))}),i(this,le).getQueryCache().notify({query:i(this,$),type:"observerResultsUpdated"})})},za);function qs(r,t){return xe(t.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&t.retryOnMount===!1)}function oa(r,t){return qs(r,t)||r.state.data!==void 0&&hr(r,t,t.refetchOnMount)}function hr(r,t,a){if(xe(t.enabled,r)!==!1){const s=typeof a=="function"?a(r):a;return s==="always"||s!==!1&&mr(r,t)}return!1}function la(r,t,a,s){return(r!==t||xe(s.enabled,r)===!1)&&(!a.suspense||r.state.status!=="error")&&mr(r,a)}function mr(r,t){return xe(t.enabled,r)!==!1&&r.isStaleByTime(rt(t.staleTime,r))}function Hs(r,t){return!Ft(r.getCurrentResult(),t)}var Vs=(Wa=class extends tt{constructor(t,a){super();A(this,Ee);A(this,Ue);A(this,$e);A(this,ce);A(this,Ce);w(this,Ue,t),this.setOptions(a),this.bindMethods(),D(this,Ee,Zt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const a=this.options;this.options=i(this,Ue).defaultMutationOptions(t),Ft(this.options,a)||i(this,Ue).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,ce),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&qe(a.mutationKey)!==qe(this.options.mutationKey)?this.reset():((s=i(this,ce))==null?void 0:s.state.status)==="pending"&&i(this,ce).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=i(this,ce))==null||t.removeObserver(this)}onMutationUpdate(t){D(this,Ee,Zt).call(this),D(this,Ee,qr).call(this,t)}getCurrentResult(){return i(this,$e)}reset(){var t;(t=i(this,ce))==null||t.removeObserver(this),w(this,ce,void 0),D(this,Ee,Zt).call(this),D(this,Ee,qr).call(this)}mutate(t,a){var s;return w(this,Ce,a),(s=i(this,ce))==null||s.removeObserver(this),w(this,ce,i(this,Ue).getMutationCache().build(i(this,Ue),this.options)),i(this,ce).addObserver(this),i(this,ce).execute(t)}},Ue=new WeakMap,$e=new WeakMap,ce=new WeakMap,Ce=new WeakMap,Ee=new WeakSet,Zt=function(){var a,s;const t=(s=(a=i(this,ce))==null?void 0:a.state)!=null?s:sa();w(this,$e,V(S({},t),{isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}))},qr=function(t){ee.batch(()=>{var a,s,o,c,l,h,m,y;if(i(this,Ce)&&this.hasListeners()){const j=i(this,$e).variables,u=i(this,$e).context;(t==null?void 0:t.type)==="success"?((s=(a=i(this,Ce)).onSuccess)==null||s.call(a,t.data,j,u),(c=(o=i(this,Ce)).onSettled)==null||c.call(o,t.data,null,j,u)):(t==null?void 0:t.type)==="error"&&((h=(l=i(this,Ce)).onError)==null||h.call(l,t.error,j,u),(y=(m=i(this,Ce)).onSettled)==null||y.call(m,void 0,t.error,j,u))}this.listeners.forEach(j=>{j(i(this,$e))})})},Wa),ca=te.createContext(void 0),gr=r=>{const t=te.useContext(ca);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Qs=({client:r,children:t})=>(te.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),e.jsx(ca.Provider,{value:r,children:t})),da=te.createContext(!1),zs=()=>te.useContext(da);da.Provider;function Ws(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var Ks=te.createContext(Ws()),Gs=()=>te.useContext(Ks);function ua(r,t){return typeof r=="function"?r(...t):!!r}function xr(){}var Ys=(r,t)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(t.isReset()||(r.retryOnMount=!1))},Js=r=>{te.useEffect(()=>{r.clearReset()},[r])},Xs=({result:r,errorResetBoundary:t,throwOnError:a,query:s,suspense:o})=>r.isError&&!t.isReset()&&!r.isFetching&&s&&(o&&r.data===void 0||ua(a,[r.error,s])),Zs=r=>{const t=r.staleTime;r.suspense&&(r.staleTime=typeof t=="function"?(...a)=>Math.max(t(...a),1e3):Math.max(t!=null?t:1e3,1e3),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3)))},en=(r,t)=>r.isLoading&&r.isFetching&&!t,tn=(r,t)=>(r==null?void 0:r.suspense)&&t.isPending,ha=(r,t,a)=>t.fetchOptimistic(r).catch(()=>{a.clearReset()});function rn(r,t,a){var u,g,d,k,p;if(process.env.NODE_ENV!=="production"&&(typeof r!="object"||Array.isArray(r)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const s=gr(),o=zs(),c=Gs(),l=s.defaultQueryOptions(r);(g=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||g.call(u,l),process.env.NODE_ENV!=="production"&&(l.queryFn||console.error(`[${l.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`)),l._optimisticResults=o?"isRestoring":"optimistic",Zs(l),Ys(l,c),Js(c);const h=!s.getQueryCache().get(l.queryHash),[m]=te.useState(()=>new t(s,l)),y=m.getOptimisticResult(l),j=!o&&r.subscribed!==!1;if(te.useSyncExternalStore(te.useCallback(N=>{const M=j?m.subscribe(ee.batchCalls(N)):xr;return m.updateResult(),M},[m,j]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),te.useEffect(()=>{m.setOptions(l)},[l,m]),tn(l,y))throw ha(l,m,c);if(Xs({result:y,errorResetBoundary:c,throwOnError:l.throwOnError,query:s.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw y.error;if((k=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||k.call(d,l,y),l.experimental_prefetchInRender&&!Be&&en(y,o)){const N=h?ha(l,m,c):(p=s.getQueryCache().get(l.queryHash))==null?void 0:p.promise;N==null||N.catch(xr).finally(()=>{m.updateResult()})}return l.notifyOnChangeProps?y:m.trackResult(y)}function yr(r,t){return rn(r,Bs)}function an(r,t){const a=gr(),[s]=te.useState(()=>new Vs(a,r));te.useEffect(()=>{s.setOptions(r)},[s,r]);const o=te.useSyncExternalStore(te.useCallback(l=>s.subscribe(ee.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),c=te.useCallback((l,h)=>{s.mutate(l,h).catch(xr)},[s]);if(o.error&&ua(s.options.throwOnError,[o.error]))throw o.error;return V(S({},o),{mutate:c,mutateAsync:o.mutate})}const sn=new _s({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1,refetchOnWindowFocus:!1}}});function nn({children:r}){return e.jsx(Qs,{client:sn,children:r})}const on=x.createContext(void 0);function ln({children:r,token:t,domain:a}){const[s]=x.useState({isAuthenticated:!0,permissions:["read:all"],accountId:void 0});return e.jsx(on.Provider,{value:{isAuthenticated:s.isAuthenticated,permissions:s.permissions,accountId:s.accountId,error:void 0},children:r})}const ma="label";function ga(r,t){typeof r=="function"?r(t):r&&(r.current=t)}function cn(r,t){const a=r.options;a&&t&&Object.assign(a,t)}function xa(r,t){r.labels=t}function ya(r,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ma;const s=[];r.datasets=t.map(o=>{const c=r.datasets.find(l=>l[a]===o[a]);return!c||!o.data||s.includes(c)?S({},o):(s.push(c),Object.assign(c,o),c)})}function dn(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ma;const a={labels:[],datasets:[]};return xa(a,r.labels),ya(a,r.datasets,t),a}function un(r,t){const M=r,{height:a=150,width:s=300,redraw:o=!1,datasetIdKey:c,type:l,data:h,options:m,plugins:y=[],fallbackContent:j,updateMode:u}=M,g=Yt(M,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]),d=x.useRef(null),k=x.useRef(null),p=()=>{d.current&&(k.current=new G.Chart(d.current,{type:l,data:dn(h,c),options:m&&S({},m),plugins:y}),ga(t,k.current))},N=()=>{ga(t,null),k.current&&(k.current.destroy(),k.current=null)};return x.useEffect(()=>{!o&&k.current&&m&&cn(k.current,m)},[o,m]),x.useEffect(()=>{!o&&k.current&&xa(k.current.config.data,h.labels)},[o,h.labels]),x.useEffect(()=>{!o&&k.current&&h.datasets&&ya(k.current.config.data,h.datasets,c)},[o,h.datasets]),x.useEffect(()=>{k.current&&(o?(N(),setTimeout(p)):k.current.update(u))},[o,m,h.labels,h.datasets,u]),x.useEffect(()=>{k.current&&(N(),setTimeout(p))},[l]),x.useEffect(()=>(p(),()=>N()),[]),x.createElement("canvas",S({ref:d,role:"img",height:a,width:s},g),j)}const hn=x.forwardRef(un);function fr(r,t){return G.Chart.register(t),x.forwardRef((a,s)=>x.createElement(hn,V(S({},a),{ref:s,type:r})))}const _t=fr("line",G.LineController),mn=fr("bar",G.BarController),at=fr("doughnut",G.DoughnutController);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(r,t)=>{const a=x.forwardRef((u,j)=>{var g=u,{color:s="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:l,className:h="",children:m}=g,y=Yt(g,["color","size","strokeWidth","absoluteStrokeWidth","className","children"]);return x.createElement("svg",S(V(S({ref:j},gn),{width:o,height:o,stroke:s,strokeWidth:l?Number(c)*24/Number(o):c,className:["lucide",`lucide-${xn(r)}`,h].join(" ")}),y),[...t.map(([d,k])=>x.createElement(d,k)),...Array.isArray(m)?m:[m]])});return a.displayName=`${r}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=O("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=O("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=O("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=O("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=O("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=O("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=O("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=O("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=O("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=O("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=O("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=O("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=O("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=O("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=O("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=O("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=O("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=O("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=O("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=O("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=O("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=O("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=O("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=O("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=O("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=O("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=O("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=O("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=O("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=O("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=O("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=O("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=O("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=O("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=O("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=O("Wallet2",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ln="U13186484";function _n(){const r=R.useLocation(),t=R.useNavigate(),{t:a}=J.useTranslation(),{colorTheme:s}=_e(),o=[{icon:An,path:"/",translationKey:"nav.home"},{icon:Na,path:`/account/${Ln}`,translationKey:"nav.investments"},{icon:In,path:"/insurance",translationKey:"nav.insurance"},{icon:ba,path:"/faq",translationKey:"nav.faq"},{icon:pn,path:"/legal",translationKey:"nav.legal"},{type:"separator"},{icon:Nr,path:"/widget-demo",label:"WIDGET DEMO"}],c=y=>{t(y,{replace:!0})},l=y=>y.startsWith("/account/")?r.pathname.startsWith("/account/"):r.pathname===y,h=s.logoBackground==="white"?"bg-white dark:bg-gray-800":"bg-theme-primary dark:bg-gray-900",m=s.logoBackground==="white"?"text-theme-primary dark:text-theme-accent":"text-white";return e.jsxs("div",{className:"h-full bg-theme-primary dark:bg-gray-900",children:[e.jsx("div",{className:`h-16 flex items-center px-6 ${h}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:m,children:e.jsx(Na,{className:"w-8 h-8"})}),e.jsx("span",{className:`text-2xl font-bold ${m}`,children:"Vestiva"})]})}),e.jsx("nav",{className:"mt-2 px-2",children:o.map(y=>{if(y.type==="separator")return e.jsx("div",{className:"my-2 border-t border-blue-900 dark:border-gray-700"},"separator");const j=y.icon;return e.jsxs("button",{onClick:()=>c(y.path),className:`flex items-center w-full px-4 py-3 text-sm rounded-md mb-1 transition-colors ${l(y.path)?"bg-theme-secondary text-white":"text-blue-100 dark:text-gray-300 hover:bg-theme-secondary hover:text-white"}`,children:[e.jsx(j,{className:"w-5 h-5 mr-3"}),y.translationKey?a(y.translationKey):y.label]},y.translationKey||y.path)})})]})}Q.z.object({id:Q.z.string(),email:Q.z.string().email(),name:Q.z.string()});const Bn=x.createContext(void 0);function qn(){const r=x.useContext(Bn);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function Hn(){const[r,t]=x.useState(!1),[a,s]=x.useState("theme"),{i18n:o}=J.useTranslation(),{theme:c,colorTheme:l,toggleTheme:h,setColorTheme:m,toggleLogoBackground:y}=_e(),j=[{code:"en",name:"English"},{code:"es",name:"Español"},{code:"pt",name:"Português"}];return e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>t(!r),className:`p-2 rounded-full transition-all duration-300 ${r?"bg-theme-primary text-white rotate-180":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:e.jsx(wr,{className:"w-5 h-5"})}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-72 rounded-lg bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:[e.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>s("theme"),className:`flex-1 px-4 py-2 text-sm font-medium ${a==="theme"?"border-b-2 border-theme-primary text-theme-primary":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:c==="light"?e.jsx(wa,{className:"w-4 h-4 mx-auto"}):e.jsx(va,{className:"w-4 h-4 mx-auto"})}),e.jsx("button",{onClick:()=>s("language"),className:`flex-1 px-4 py-2 text-sm font-medium ${a==="language"?"border-b-2 border-theme-primary text-theme-primary":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:e.jsx(Cn,{className:"w-4 h-4 mx-auto"})}),e.jsx("button",{onClick:()=>s("colors"),className:`flex-1 px-4 py-2 text-sm font-medium ${a==="colors"?"border-b-2 border-theme-primary text-theme-primary":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:e.jsx(Rn,{className:"w-4 h-4 mx-auto"})})]}),e.jsxs("div",{className:"p-4",children:[a==="theme"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Theme Mode"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>c==="dark"&&h(),className:`flex items-center justify-center p-3 rounded-lg border transition-colors ${c==="light"?"border-theme-primary bg-theme-accent/10":"border-gray-200 dark:border-gray-700"}`,children:e.jsx(wa,{className:"w-5 h-5 text-gray-900 dark:text-white"})}),e.jsx("button",{onClick:()=>c==="light"&&h(),className:`flex items-center justify-center p-3 rounded-lg border transition-colors ${c==="dark"?"border-theme-primary bg-theme-accent/10":"border-gray-200 dark:border-gray-700"}`,children:e.jsx(va,{className:"w-5 h-5 text-gray-900 dark:text-white"})})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Logo Background"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>l.logoBackground==="primary"&&y(),className:`flex items-center justify-center p-3 rounded-lg border transition-colors ${l.logoBackground==="white"?"border-theme-primary bg-theme-accent/10":"border-gray-200 dark:border-gray-700"}`,children:[e.jsx(Nr,{className:"w-5 h-5 text-gray-900 dark:text-white"}),e.jsx("span",{className:"ml-2 text-sm",children:"White"})]}),e.jsxs("button",{onClick:()=>l.logoBackground==="white"&&y(),className:`flex items-center justify-center p-3 rounded-lg border transition-colors ${l.logoBackground==="primary"?"border-theme-primary bg-theme-accent/10":"border-gray-200 dark:border-gray-700"}`,children:[e.jsx(Nr,{className:"w-5 h-5 text-gray-900 dark:text-white"}),e.jsx("span",{className:"ml-2 text-sm",children:"Theme"})]})]})]})]}),a==="language"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Language"}),e.jsx("div",{className:"space-y-2",children:j.map(u=>e.jsx("button",{onClick:()=>o.changeLanguage(u.code),className:`w-full flex items-center px-3 py-2 rounded-lg transition-colors ${o.language===u.code?"bg-theme-primary text-white":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:u.name},u.code))})]}),a==="colors"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Color Theme"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:ar.map(u=>e.jsxs("button",{onClick:()=>m(u.id),className:`group p-3 rounded-lg border transition-colors ${l.id===u.id?"border-theme-primary bg-theme-accent/10":"border-gray-200 dark:border-gray-700 hover:border-theme-accent"}`,children:[e.jsx("div",{className:"flex gap-1 mb-2",children:Object.values(u.colors).map((g,d)=>e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:g}},d))}),e.jsx("span",{className:`text-xs font-medium ${l.id===u.id?"text-theme-primary":"text-gray-700 dark:text-gray-300 group-hover:text-theme-accent"}`,children:u.name})]},u.id))})]})]})]})]})]})}function Ea({title:r,onMenuClick:t,embedded:a=!1}){const s=R.useNavigate(),{signOut:o,user:c}=qn(),{t:l}=J.useTranslation(),[h,m]=x.useState(!1),y=()=>re(this,null,function*(){yield o(),s("/login")});return e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 shadow",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[!a&&t&&e.jsx("button",{onClick:t,className:"lg:hidden -ml-1 p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(kr,{className:"h-6 w-6"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white ml-2 lg:ml-0 truncate",children:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hn,{}),!a&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>m(!h),className:"flex items-center p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Fn,{className:"h-5 w-5"})}),h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),e.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700",children:c==null?void 0:c.email}),e.jsxs("button",{onClick:y,className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx(On,{className:"w-4 h-4 mr-2"}),l("common.signOut")]})]})})]})]})]})]})})})}function Aa({children:r,title:t,embedded:a=!1}){const[s,o]=x.useState(!1);return a?e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(Ea,{title:t,embedded:!0}),e.jsx("main",{className:"overflow-x-hidden overflow-y-auto bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:r})})})]}):e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:`fixed inset-0 z-40 bg-gray-600 bg-opacity-75 transition-opacity lg:hidden ${s?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>o(!1)}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-40 w-64 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 border-r border-gray-200 dark:border-gray-700 ${s?"translate-x-0":"-translate-x-full"}`,children:e.jsx(_n,{})}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx(Ea,{title:t,onMenuClick:()=>o(!0)}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:r})})})]})]})}const Vn=r=>({labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Total",data:[25e3,26500,28e3,27500,29500,29385.84],borderColor:`rgba(${r.colors.primaryRgb}, 1)`,backgroundColor:`rgba(${r.colors.primaryRgb}, 0.2)`,borderWidth:2,fill:!0,tension:.4},{label:"Joaco",data:[12500,13e3,14e3,13750,14750,14692.92],borderColor:`rgba(${r.colors.secondaryRgb}, 1)`,backgroundColor:`rgba(${r.colors.secondaryRgb}, 0.2)`,borderWidth:2,fill:!0,tension:.4,hidden:!0},{label:"Manu",data:[12500,13e3,14e3,13750,14750,14692.92],borderColor:`rgba(${r.colors.accentRgb}, 1)`,backgroundColor:`rgba(${r.colors.accentRgb}, 0.2)`,borderWidth:2,fill:!0,tension:.4,hidden:!0}]}),Qn={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",padding:12,displayColors:!0,callbacks:{title:function(r){return r[0].label},label:function(r){const t=r.raw||0;return`${r.dataset.label}: $ ${t.toLocaleString()}`}}}},interaction:{mode:"index",intersect:!1},scales:{y:{beginAtZero:!1,grid:{color:r=>r.dark?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",drawBorder:!1},ticks:{color:r=>r.dark?"#9CA3AF":"#4B5563",callback:function(r){return`$${Number(r).toLocaleString()}`},maxTicksLimit:6}},x:{display:!1,grid:{display:!1,drawBorder:!1}}},layout:{padding:{left:10,right:10,top:10,bottom:10}}},He=er.create({baseURL:void 0,timeout:1e4,headers:{"Content-Type":"application/json"}});He.interceptors.request.use(r=>{const t=localStorage.getItem("auth_token");return t&&(r.headers.Authorization=`Bearer ${t}`),r},r=>Promise.reject(r)),He.interceptors.response.use(r=>r,r=>re(this,null,function*(){var t;return((t=r.response)==null?void 0:t.status)===401&&(localStorage.removeItem("auth_token"),window.location.href="/login"),Promise.reject(r)}));const Sa=Q.z.object({id:Q.z.string(),alias:Q.z.string(),type:Q.z.string(),value:Q.z.number(),percentage:Q.z.number(),performance:Q.z.object({total:Q.z.number(),percentage:Q.z.number(),period:Q.z.string()})}),Ta=Q.z.object({id:Q.z.string(),name:Q.z.string(),type:Q.z.string(),allocation:Q.z.array(Q.z.object({symbol:Q.z.string(),name:Q.z.string(),percentage:Q.z.number(),color:Q.z.string()}))});class zn{static getAccounts(){return re(this,null,function*(){const t=yield He.get("/accounts");return Q.z.array(Sa).parse(t.data)})}static getAccount(t){return re(this,null,function*(){const a=yield He.get(`/accounts/${t}`);return Sa.parse(a.data)})}static getAccountPerformance(t,a){return re(this,null,function*(){return(yield He.get(`/accounts/${t}/performance`,{params:{period:a}})).data})}static getPortfolio(t){return re(this,null,function*(){const a=yield He.get(`/accounts/${t}/portfolio`);return Ta.parse(a.data)})}static updatePortfolio(t,a){return re(this,null,function*(){const s=yield He.put(`/accounts/${t}/portfolio`,{portfolioId:a});return Ta.parse(s.data)})}}const Wn={U13186484:{id:"U13186484",alias:"Joaco",type:"AUTOMATED_INVESTMENT",value:14692.92,percentage:35,funded:!0,performance:{total:-307.08,percentage:-2.06,period:"1Y"}},U15043437:{id:"U15043437",alias:"Manu",type:"AUTOMATED_INVESTMENT",value:14692.92,percentage:35,funded:!0,performance:{total:-307.08,percentage:-2.06,period:"1Y"}},U10246500:{id:"U10246500",alias:"Market Hub",type:"MARKET_HUB",value:5297.48,percentage:15,funded:!0,buyingPower:225.46,performance:{total:317.23,percentage:6.37,period:"1Y"}},U20231201:{id:"U20231201",alias:"New Investment",type:"AUTOMATED_INVESTMENT",value:0,percentage:7.5,funded:!1,performance:{total:0,percentage:0,period:"1Y"}},U20231202:{id:"U20231202",alias:"Trading Account",type:"MARKET_HUB",value:0,percentage:7.5,funded:!1,buyingPower:0,performance:{total:0,percentage:0,period:"1Y"}}};function Kn(){return yr({queryKey:["accounts"],queryFn:()=>Promise.resolve(Object.values(Wn))})}function Gn(r){return yr({queryKey:["accounts",r,"portfolio"],queryFn:()=>zn.getPortfolio(r),enabled:!!r})}const Yn=[{label:"1M",value:"1M"},{label:"6M",value:"6M"},{label:"1Y",value:"1Y"},{label:"Max",value:"Max"}];function Jn({embedded:r=!1,enabledSections:t}){const[a,s]=x.useState("1M"),{t:o}=J.useTranslation(),{colorTheme:c}=_e(),{data:l=[]}=Kn(),h=d=>!t||t.includes(d),m=[`rgba(${c.colors.primaryRgb}, 0.8)`,`rgba(${c.colors.secondaryRgb}, 0.8)`,`rgba(${c.colors.accentRgb}, 0.8)`,`rgba(${c.colors.primaryRgb}, 0.4)`,`rgba(${c.colors.secondaryRgb}, 0.4)`],y={labels:l.map(d=>`${d.id} - ${d.alias}`),datasets:[{data:l.map(d=>d.percentage),backgroundColor:m,borderWidth:0,hoverOffset:4}]},j={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleColor:"#fff",bodyColor:"#fff",callbacks:{label:d=>{const k=l[d.dataIndex];return`${k.id} - ${k.alias}: $${k.value.toLocaleString()} (${k.percentage}%)`}}}},cutout:"70%",elements:{arc:{borderWidth:0,hoverBorderWidth:2,hoverBorderColor:"#fff"}}},u=l.reduce((d,k)=>d+k.value,0),g=(d,k,p)=>{p.preventDefault(),p.stopPropagation(),console.log(`${d} for account:`,k)};return e.jsx(Aa,{title:o("dashboard.title"),embedded:r,children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h("summary")&&e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:o("dashboard.summary")}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("dashboard.totalCurrent")}),e.jsxs("p",{className:"text-2xl font-bold text-theme-primary dark:text-theme-accent",children:["$",u.toLocaleString()]})]})]}),e.jsx("div",{className:"flex space-x-2 w-full sm:w-auto mt-4 sm:mt-0",children:Yn.map(d=>e.jsx("button",{onClick:()=>s(d.value),className:`flex-1 sm:flex-none px-3 py-1 text-sm rounded transition-colors ${a===d.value?"bg-theme-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:d.label},d.value))})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"w-full h-[300px] sm:h-[350px]",children:e.jsx(_t,{data:Vn(c),options:Qn})})})]}),h("distribution")&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Account Distribution"}),e.jsxs("div",{className:"relative h-[200px] sm:h-[250px]",children:[e.jsx(at,{data:y,options:j}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:l.length}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Accounts"})]})})]}),e.jsx("div",{className:"mt-6 space-y-3",children:l.map((d,k)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:m[k]}}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[d.id," - ",d.alias]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.type==="MARKET_HUB"?"Market Hub":"Automated Investment"})]})]}),e.jsxs("span",{className:"text-sm font-medium text-theme-primary dark:text-theme-accent",children:["$",d.value.toLocaleString()]})]},d.id))})]})]}),h("accounts")&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o("dashboard.accounts")}),!r&&e.jsx("button",{className:"px-4 py-2 bg-theme-primary text-white rounded-md hover:bg-theme-secondary transition-colors w-full sm:w-auto",children:o("dashboard.openAccount")})]})}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.map((d,k)=>e.jsx(R.Link,{to:r?"#":`/account/${d.id}`,className:"block p-4 sm:p-6 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-8 rounded-sm",style:{backgroundColor:m[k]}}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:d.type==="MARKET_HUB"?"Market Hub":"Automated Investment"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.id," • ",d.alias]}),d.type==="MARKET_HUB"&&d.buyingPower!==void 0&&d.funded&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[o("account.buyingPower"),": $",d.buyingPower.toLocaleString()]}),!d.funded&&e.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 mt-1",children:o("dashboard.unfundedAccount")})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-4 w-full sm:w-auto",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-semibold text-theme-primary dark:text-theme-accent",children:["$",d.value.toLocaleString()]}),d.funded&&e.jsxs("p",{className:`text-sm ${d.performance.total>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[d.performance.total>=0?"+":"","$",d.performance.total.toLocaleString()," (",d.performance.percentage,"%)"]})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx("button",{onClick:p=>g("deposit",d.id,p),className:`flex-1 sm:flex-none px-4 py-2 rounded-md text-sm font-medium transition-colors ${d.funded?"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600":"bg-theme-primary text-white hover:bg-theme-secondary"}`,children:o("dashboard.deposit")}),d.funded&&e.jsx("button",{onClick:p=>g("withdraw",d.id,p),className:"flex-1 sm:flex-none px-4 py-2 bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 rounded-md text-sm font-medium transition-colors",children:o("dashboard.withdraw")})]})]})]})},d.id))})]})]})})}function Xn({onAction:r}){const{t}=J.useTranslation();return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("button",{onClick:()=>r("buy"),className:"flex items-center justify-center px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:e.jsx("span",{className:"font-medium",children:t("marketHub.actions.buy")})}),e.jsx("button",{onClick:()=>r("sell"),className:"flex items-center justify-center px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:e.jsx("span",{className:"font-medium",children:t("marketHub.actions.sell")})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{id:"watchlists",icon:pa,label:t("marketHub.actions.watchlists"),description:t("marketHub.actions.watchlistsDescription")},{id:"instruments",icon:Pn,label:t("marketHub.actions.instruments"),description:t("marketHub.actions.instrumentsDescription")},{id:"orders",icon:vr,label:t("marketHub.actions.orders"),description:t("marketHub.actions.ordersDescription")},{id:"analytics",icon:Tn,label:t("marketHub.actions.analytics"),description:t("marketHub.actions.analyticsDescription")}].map(a=>{const s=a.icon;return e.jsxs("button",{onClick:()=>r(a.id),className:"flex flex-col items-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-theme-accent dark:hover:border-theme-accent transition-colors",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-theme-accent/10 dark:bg-theme-accent/20 mb-3",children:e.jsx(s,{className:"w-6 h-6 text-theme-accent"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:a.label}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:a.description})]},a.id)})})]})}function Pa({instruments:r,onInstrumentClick:t,type:a,onInstrumentAction:s}){const[o,c]=x.useState(null),l=a==="MARKET_HUB";return e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(h=>e.jsx("div",{className:"py-4 px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors",onClick:()=>t(h),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[l?e.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:h.logoUrl?e.jsx("img",{src:h.logoUrl,alt:h.symbol,className:"w-full h-full object-contain p-1",loading:"lazy"}):e.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:h.symbol.substring(0,2)})}):e.jsx("div",{className:"w-1 h-8 rounded-sm",style:{backgroundColor:h.color}}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:h.symbol}),l&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[h.quantity," ",h.quantity===1?"Acción":"Acciones"]})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-1",children:h.name}),l&&h.sector&&e.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:h.sector}),!l&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Cant. ",h.quantity]})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-base font-medium text-gray-900 dark:text-white",children:["$",h.value.toLocaleString()]}),e.jsx("div",{className:"text-sm font-medium",children:l?e.jsxs("span",{className:`${h.performance>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[h.performance>=0?"+":"","$",Math.abs(h.performance).toLocaleString()]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-theme-primary dark:text-theme-accent",children:[h.percentage.toFixed(2),"%"]}),e.jsxs("span",{className:`block text-xs ${h.performance>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["PERF. $",Math.abs(h.performance).toLocaleString()]})]})})]}),l?e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-full transition-colors",onClick:m=>{m.stopPropagation(),c(o===h.symbol?null:h.symbol)},children:e.jsx(ja,{className:"w-4 h-4 text-gray-400"})}),o===h.symbol&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:m=>{m.stopPropagation(),c(null)}}),e.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-20",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:m=>{m.stopPropagation(),s==null||s("view",h),c(null)},children:[e.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Ver detalle"]}),e.jsxs("button",{className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:m=>{m.stopPropagation(),s==null||s("add-to-watchlist",h),c(null)},children:[e.jsx(pa,{className:"w-4 h-4 mr-2"}),"Añadir a watchlist"]})]})})]})]}):e.jsx("button",{className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-full transition-colors",onClick:m=>{m.stopPropagation(),window.open(`/api/instruments/${h.symbol}/factsheet`,"_blank")},title:"Download factsheet",children:e.jsx(Ne,{className:"w-4 h-4 text-gray-400 hover:text-theme-primary dark:hover:text-theme-accent"})})]})]})},h.symbol))})}const Oa=r=>({labels:Array.from({length:30},(t,a)=>`2024-${String(a+1).padStart(2,"0")}`),datasets:[{label:"Portfolio Value",data:Array.from({length:30},()=>14e3+Math.random()*2e3),borderColor:`rgba(${r.colors.primaryRgb}, 1)`,backgroundColor:`rgba(${r.colors.primaryRgb}, 0.2)`,borderWidth:2,fill:!0,tension:.4}]}),Ra={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",padding:12,displayColors:!1,callbacks:{label:function(r){return`$ ${(r.raw||0).toLocaleString()}`}}}},interaction:{mode:"index",intersect:!1},scales:{y:{beginAtZero:!1,grid:{color:r=>r.dark?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",drawBorder:!1},ticks:{color:r=>r.dark?"#9CA3AF":"#4B5563",callback:function(r){return`$${Number(r).toLocaleString()}`},maxTicksLimit:6}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:r=>r.dark?"#9CA3AF":"#4B5563",maxTicksLimit:window.innerWidth<640?4:8,maxRotation:45,minRotation:45}}},layout:{padding:{left:10,right:10,top:10,bottom:20}}};function Ct({type:r}){const{t}=J.useTranslation(),a={performance:{icon:pr,title:t("common.noData")},activity:{icon:Ne,title:t("common.noData")},statements:{icon:Ht,title:t("common.noData")}},{icon:s,title:o}=a[r];return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 mb-4",children:e.jsx(s,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o})]})})}const Zn=[{month:"ABR 2025",value:-5.36},{month:"MAR 2025",value:-4.03},{month:"FEB 2025",value:-2.11},{month:"ENE 2025",value:3.34},{month:"DIC 2024",value:-1.3},{month:"NOV 2024",value:3.69},{month:"OCT 2024",value:-1.33},{month:"SEP 2024",value:5.71},{month:"AGO 2024",value:3.25},{month:"JUL 2024",value:2.31}],ei={"6M":[{date:"2024-11",value:3.69},{date:"2024-12",value:2.39},{date:"2025-01",value:5.73},{date:"2025-02",value:3.62},{date:"2025-03",value:-.41},{date:"2025-04",value:-5.36}],"1Y":[{date:"2024-05",value:1.25},{date:"2024-06",value:2.31},{date:"2024-07",value:3.25},{date:"2024-08",value:5.71},{date:"2024-09",value:4.38},{date:"2024-10",value:7.82},{date:"2024-11",value:6.52},{date:"2024-12",value:9.86},{date:"2025-01",value:7.95},{date:"2025-02",value:4.92},{date:"2025-03",value:-.41},{date:"2025-04",value:-5.36}],inception:[{date:"2024-01",value:0},{date:"2024-02",value:1.52},{date:"2024-03",value:2.83},{date:"2024-04",value:3.91},{date:"2024-05",value:1.25},{date:"2024-06",value:2.31},{date:"2024-07",value:3.25},{date:"2024-08",value:5.71},{date:"2024-09",value:4.38},{date:"2024-10",value:7.82},{date:"2024-11",value:6.52},{date:"2024-12",value:9.86},{date:"2025-01",value:7.95},{date:"2025-02",value:4.92},{date:"2025-03",value:-.41},{date:"2025-04",value:-5.36}]},ti=r=>{const[t,a]=r.split("-");return`${a}-${t}`};function Ma({accountId:r,hasFunds:t,hasData:a=!0}){const[s,o]=x.useState("inception"),{t:c}=J.useTranslation(),{colorTheme:l}=_e();if(!t)return e.jsx(Ct,{type:"performance"});if(!a)return e.jsx(Ct,{type:"performance",noData:!0});const h={labels:[c("performance.periods.month"),c("performance.periods.quarter"),c("performance.periods.ytd"),c("performance.periods.inception")],datasets:[{data:[-5.36,-5.21,-8.1,-2.06],backgroundColor:`rgba(${l.colors.primaryRgb}, 0.8)`,borderRadius:4}]},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",padding:8,displayColors:!1,callbacks:{title:()=>"",label:g=>{const d=g.raw;return`${g.label}: ${d>=0?"+":""}${d.toFixed(2)}%`}}}},scales:{y:{beginAtZero:!0,grid:{color:g=>g.dark?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},ticks:{callback:g=>`${g}%`,color:g=>g.dark?"#9CA3AF":"#4B5563"}},x:{grid:{display:!1},ticks:{color:g=>g.dark?"#9CA3AF":"#4B5563"}}}},y=ei[s],j={labels:y.map(g=>ti(g.date)),datasets:[{label:c("performance.return"),data:y.map(g=>g.value),borderColor:`rgba(${l.colors.primaryRgb}, 1)`,backgroundColor:`rgba(${l.colors.primaryRgb}, 0.2)`,borderWidth:2,fill:!0,tension:.4}]},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",padding:8,displayColors:!1,callbacks:{title:g=>g[0].label,label:g=>{const d=g.raw;return`Rendimiento: ${d>=0?"+":""}${d.toFixed(2)}%`}}}},interaction:{mode:"index",intersect:!1},scales:{y:{grid:{color:g=>g.dark?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},ticks:{callback:g=>`${g}%`,color:g=>g.dark?"#9CA3AF":"#4B5563"}},x:{grid:{display:!1},ticks:{color:g=>g.dark?"#9CA3AF":"#4B5563",maxRotation:45,minRotation:45}}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-sm text-gray-500 dark:text-gray-400",children:c("performance.netGains")}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"-$307.08"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:c("performance.totalReturn")}),e.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.06%"})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[c("performance.lastUpdate")," 2025-04-11 UTC"]})]}),e.jsx("div",{className:"h-64",children:e.jsx(mn,{data:h,options:m})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c("performance.title")}),e.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:[{label:"6M",value:"6M"},{label:"1Y",value:"1Y"},{label:c("performance.periods.inception"),value:"inception"}].map(g=>e.jsx("button",{onClick:()=>o(g.value),className:`flex-1 sm:flex-none px-3 py-1 text-sm rounded transition-colors ${s===g.value?"bg-theme-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:g.label},g.value))})]}),e.jsx("div",{className:"h-64 mb-6",children:e.jsx(_t,{data:j,options:u})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:c("performance.monthlyReturn")}),e.jsx("div",{className:"space-y-4",children:Zn.map(g=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:g.month}),e.jsxs("span",{className:`text-sm font-medium ${g.value>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[g.value>0?"+":"",g.value,"%"]})]},g.month))})]})]})]})}const ri={U13186484:[{date:"2024-11-06",type:"RETIRO",accountId:"U13186484",alias:"Joaco",amount:-10,status:"Cancelado",reason:"Necesidad de liquidez",comment:"Test"},{date:"2024-09-04",type:"RETIRO",accountId:"U13186484",alias:"Joaco",amount:-500,status:"Cancelado",reason:"Necesidad de liquidez",comment:"Retiro parcial"},{date:"2024-07-26",type:"DEPÓSITO",accountId:"U13186484",alias:"Joaco",amount:15e3,status:"Completado"}],U15043437:[{date:"2024-11-05",type:"DEPÓSITO",accountId:"U15043437",alias:"Manu",amount:5e3,status:"Completado"},{date:"2024-10-15",type:"RETIRO",accountId:"U15043437",alias:"Manu",amount:-1e3,status:"Cancelado",reason:"Gastos personales",comment:"Retiro mensual"},{date:"2024-10-01",type:"DEPÓSITO",accountId:"U15043437",alias:"Manu",amount:1e4,status:"Completado"}]};function Ia({accountId:r,hasFunds:t,hasData:a=!0}){const{t:s}=J.useTranslation(),[o,c]=x.useState(null),l=ri[r]||[],h=u=>{c(o===u?null:u)},m=u=>s(u==="RETIRO"?"activity.types.withdrawal":"activity.types.deposit"),y=u=>s(u==="Cancelado"?"activity.status.cancelled":"activity.status.completed"),j=u=>{const g=new Date(u),d=g.toLocaleString("es",{month:"short"}).toUpperCase(),k=g.getFullYear();return{day:g.getDate().toString().padStart(2,"0"),month:d,year:k}};return!t||!a||l.length===0?e.jsx(Ct,{type:"activity"}):e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow divide-y divide-gray-200 dark:divide-gray-700",children:l.map((u,g)=>{const{day:d,month:k,year:p}=j(u.date);return e.jsxs("div",{className:"transition-all duration-200 ease-in-out",children:[e.jsx("div",{className:`p-4 sm:p-6 ${u.reason?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50":""}`,onClick:()=>u.reason&&h(g),children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:d}),e.jsxs("div",{className:"text-xs text-gray-500",children:[k," ",p]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m(u.type)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[u.accountId," • ",u.alias]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-sm font-medium ${u.amount>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["$",Math.abs(u.amount).toLocaleString()]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:y(u.status)})]})]}),u.reason&&e.jsxs("div",{className:"flex items-center text-xs text-theme-primary dark:text-theme-accent",children:[o===g?e.jsx(wn,{className:"w-4 h-4 mr-1"}):e.jsx(jn,{className:"w-4 h-4 mr-1"}),s("activity.details")]})]})})}),u.reason&&o===g&&e.jsxs("div",{className:"px-6 pb-6 space-y-4 bg-gray-50 dark:bg-gray-700/50",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400",children:s("activity.reason")}),e.jsx("div",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:u.reason})]}),u.comment&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400",children:s("activity.comment")}),e.jsx("div",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:u.comment})]})]})]},g)})})})}const ai=[{type:"monthly",date:"2025-03-01",year:"2025",month:"MAR",accountId:"U13186484",url:"https://example.com/statements/202503.pdf"},{type:"monthly",date:"2025-02-01",year:"2025",month:"FEB",accountId:"U13186484",url:"https://example.com/statements/202502.pdf"},{type:"monthly",date:"2025-01-01",year:"2025",month:"ENE",accountId:"U13186484",url:"https://example.com/statements/202501.pdf"},{type:"annual",date:"2024-12-31",year:"2024",accountId:"U13186484",url:"https://example.com/statements/2024.pdf"},{type:"monthly",date:"2024-12-01",year:"2024",month:"DIC",accountId:"U13186484",url:"https://example.com/statements/202412.pdf"},{type:"monthly",date:"2024-11-01",year:"2024",month:"NOV",accountId:"U13186484",url:"https://example.com/statements/202411.pdf"}],si=[{type:"tax",date:"2024-12-31",year:"2024",accountId:"U13186484",documentId:"F1042S",url:"https://example.com/tax/2024/F1042S.pdf"}];function Da({accountId:r,hasFunds:t,hasData:a=!0}){const{t:s}=J.useTranslation(),[o,c]=x.useState("statements"),[l,h]=x.useState(null),m=[{id:"statements",label:s("statements.tabs.statements")},{id:"tax",label:s("statements.tabs.tax")}],y=d=>d.type==="annual"?s("statements.types.annual"):d.type==="tax"?`${s("statements.types.tax")} ${d.documentId}`:s("statements.types.monthly"),j=d=>{const k=new Date(d),p=k.toLocaleString("es",{month:"short"}).toUpperCase(),N=k.getFullYear();return{month:p,year:N}},u=(d,k)=>re(this,null,function*(){try{h(k),yield new Promise(N=>setTimeout(N,1e3));const p=document.createElement("a");p.href=d.url,p.target="_blank",p.download=`${d.accountId}_${d.date.replace(/-/g,"")}.pdf`,document.body.appendChild(p),p.click(),document.body.removeChild(p)}catch(p){console.error("Error downloading statement:",p)}finally{h(null)}}),g=d=>e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:d.map((k,p)=>{const{month:N,year:M}=j(k.date);return e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-center min-w-[3rem]",children:k.type==="annual"||k.type==="tax"?e.jsx("div",{className:"text-base font-medium text-gray-900 dark:text-white",children:M}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-base font-medium text-gray-900 dark:text-white",children:N}),e.jsx("div",{className:"text-xs text-gray-500",children:M})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-theme-accent/10 dark:bg-theme-accent/20",children:e.jsx(Ne,{className:"w-4 h-4 text-theme-accent"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y(k)}),e.jsx("p",{className:"text-xs text-gray-500",children:k.accountId})]})]})]}),e.jsx("button",{onClick:()=>u(k,p),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",disabled:l===p,children:l===p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 dark:border-gray-600 border-t-theme-primary dark:border-t-theme-accent rounded-full animate-spin"}),e.jsx("span",{children:"Downloading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"w-4 h-4"}),e.jsx("span",{children:"Download PDF"})]})})]},p)})});return t?a?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"flex",children:m.map(d=>e.jsx("button",{onClick:()=>c(d.id),className:`flex-1 px-3 py-2.5 text-xs font-medium border-b-2 transition-colors ${o===d.id?"border-theme-primary text-theme-primary dark:text-theme-accent dark:border-theme-accent":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:d.label},d.id))}),e.jsxs("div",{children:[o==="statements"&&g(ai),o==="tax"&&g(si)]})]})}):e.jsx(Ct,{type:"statements",noData:!0}):e.jsx(Ct,{type:"statements"})}const ni={U13186484:[{id:"WA001",alias:"BANK OF AMERICA, N...1213",type:"bank",accountNumber:"****1213",status:"active",country:"US",currency:"USD",routingNumber:"026009593"},{id:"WA002",alias:"PERSHING LLC, A...5678",type:"financial",accountNumber:"****5678",status:"active",country:"US",currency:"USD"}],U15043437:[{id:"WA003",alias:"BBVA BANCOMER, N...9876",type:"bank",accountNumber:"****9876",status:"active",country:"MX",currency:"MXN",routingNumber:"BBVAMXMM"},{id:"WA004",alias:"MORGAN STANLEY, A...4321",type:"financial",accountNumber:"****4321",status:"active",country:"US",currency:"USD"}],U10246500:[{id:"WA005",alias:"CHASE BANK, N...5432",type:"bank",accountNumber:"****5432",status:"active",country:"US",currency:"USD",routingNumber:"021000021"}],U20231201:[],U20231202:[]};function ii({accountId:r,onClose:t}){const{t:a}=J.useTranslation(),[s,o]=x.useState("list"),[c,l]=x.useState(null),[h,m]=x.useState("bank"),[y,j]=x.useState(!1),u=ni[r]||[],g=p=>{console.log("Delete account:",p)},d=p=>{p.preventDefault(),console.log("Add account"),o("list")},k=()=>e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cuentas de retiro"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Banco"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Retira fondos directamente a tu cuenta bancaria personal, como Santander, BBVA o Bank of America"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Institución Financiera No Bancaria"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Envía fondos a otra institución financiera donde tengas una cuenta de inversión, como un corredor de bolsa (por ejemplo, Pershing LLC, Morgan Stanley)"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Apodo de la Cuenta"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Crea un apodo simple para identificar esta cuenta. Esto es útil si tienes varias cuentas registradas. El apodo no afectará las instrucciones de retiro reales."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"País del Banco"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Selecciona el país del banco destino, no el banco intermediario."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Número de Cuenta"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ingresa tu número de cuenta bancaria personal"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"IBAN"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"IBAN significa número de cuenta bancaria internacional y es un código único que identifica una cuenta bancaria para transacciones financieras transfronterizas."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Código ABA / SWIFT:"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["- Número de Ruta / ABA: Código numérico de 9 dígitos utilizado para transferencias bancarias dentro de los Estados Unidos.",e.jsx("br",{}),"- Código SWIFT: Código alfanumérico utilizado para transferencias internacionales."]})]})]}),e.jsx("button",{onClick:()=>j(!1),className:"w-full mt-6 px-4 py-2 text-blue-600 dark:text-blue-400 text-sm font-medium",children:"Cerrar"})]})})});return e.jsxs("div",{className:"fixed inset-0 z-40 overflow-y-auto",children:[e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),e.jsxs("div",{className:"relative w-full max-w-4xl bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center",children:[s==="add"&&e.jsx("button",{onClick:()=>{o("list"),l(null)},className:"mr-3 p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(yn,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"CUENTAS DE RETIRO"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(!0),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(ba,{className:"w-5 h-5"})}),e.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(Vt,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"p-6",children:s==="list"?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>o("add"),className:"flex items-center justify-center w-full p-4 mb-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-theme-primary dark:hover:border-theme-accent transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[e.jsx(Mn,{className:"w-5 h-5"}),e.jsx("span",{children:"AÑADIR CUENTA"})]})}),e.jsx("div",{className:"space-y-4",children:u.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-green-100 dark:bg-green-900",children:e.jsx(fa,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:p.alias}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[p.type==="bank"?"Banco":"Institución Financiera"," • ",p.country," • ",p.currency]})]})]}),e.jsx("button",{onClick:()=>g(p.id),className:"p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:e.jsx(ja,{className:"w-5 h-5"})})]},p.id))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsx("button",{onClick:()=>{m("bank"),l(null)},className:`p-4 rounded-lg border-2 transition-colors ${h==="bank"?"border-theme-primary bg-theme-accent/10 dark:bg-theme-accent/20":"border-gray-200 dark:border-gray-700"}`,children:e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Banco"})}),e.jsx("button",{onClick:()=>{m("financial"),l("upload")},className:`p-4 rounded-lg border-2 transition-colors ${h==="financial"?"border-theme-primary bg-theme-accent/10 dark:bg-theme-accent/20":"border-gray-200 dark:border-gray-700"}`,children:e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Institución Financiera no Bancaria"})})]}),h==="bank"?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>l("upload"),className:`flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-colors ${c==="upload"?"border-theme-primary bg-theme-accent/10 dark:bg-theme-accent/20":"border-gray-200 dark:border-gray-700 hover:border-theme-accent"}`,children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-theme-accent/10 dark:bg-theme-accent/20 mb-3",children:e.jsx(Ca,{className:"w-6 h-6 text-theme-accent"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Subir Archivos"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Adjunta documentos bancarios en PDF, JPG o PNG"})]})]}),e.jsxs("button",{onClick:()=>l("manual"),className:`flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-colors ${c==="manual"?"border-theme-primary bg-theme-accent/10 dark:bg-theme-accent/20":"border-gray-200 dark:border-gray-700 hover:border-theme-accent"}`,children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-theme-accent/10 dark:bg-theme-accent/20 mb-3",children:e.jsx(Dn,{className:"w-6 h-6 text-theme-accent"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Cargar Manualmente"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ingresa los datos de tu cuenta directamente"})]})]})]}):e.jsxs("button",{onClick:()=>l("upload"),className:"flex flex-col items-center justify-center w-full p-6 rounded-lg border-2 border-theme-primary bg-theme-accent/10 dark:bg-theme-accent/20",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-theme-accent/10 dark:bg-theme-accent/20 mb-3",children:e.jsx(Ca,{className:"w-6 h-6 text-theme-accent"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Subir Archivos"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Adjunta documentos bancarios en PDF, JPG o PNG"})]})]}),(c==="upload"||h==="financial")&&e.jsxs("form",{onSubmit:d,className:"mt-6 space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Sobrenombre de la cuenta",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-theme-primary dark:bg-gray-700 dark:text-white"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("button",{type:"button",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-left text-gray-400",children:"Archivo de Instrucciones"})}),e.jsx("button",{type:"button",className:"p-2 bg-theme-primary text-white rounded-lg",children:e.jsx(jr,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("button",{type:"button",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-left text-gray-400",children:"Resumen de cuenta"})}),e.jsx("button",{type:"button",className:"p-2 bg-theme-primary text-white rounded-lg",children:e.jsx(jr,{className:"w-6 h-6"})})]}),e.jsx("button",{type:"submit",className:"w-full mt-6 px-4 py-3 bg-theme-primary text-white rounded-lg font-medium hover:bg-theme-secondary transition-colors",children:"ENVIAR"})]}),c==="manual"&&h==="bank"&&e.jsxs("form",{onSubmit:d,className:"mt-6 space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Sobrenombre de la cuenta",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-theme-primary dark:bg-gray-700 dark:text-white"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-theme-primary dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"País del banco"}),e.jsx("option",{value:"us",children:"Estados Unidos"}),e.jsx("option",{value:"mx",children:"México"})]}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-theme-primary dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Divisa"}),e.jsx("option",{value:"usd",children:"USD"}),e.jsx("option",{value:"mxn",children:"MXN"})]}),e.jsx("input",{type:"text",placeholder:"Número de Cuenta / IBAN",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-theme-primary dark:bg-gray-700 dark:text-white"}),e.jsx("input",{type:"text",placeholder:"Confirmar Número de Cuenta",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-theme-primary dark:bg-gray-700 dark:text-white"}),e.jsx("input",{type:"text",placeholder:"Número de ruta ABA o Código SWIFT / BIC",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-theme-primary dark:bg-gray-700 dark:text-white"}),e.jsx("input",{type:"text",placeholder:"Titular/es de la cuenta",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-theme-primary dark:bg-gray-700 dark:text-white"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("button",{type:"button",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-left text-gray-400",children:"Resumen de cuenta"})}),e.jsx("button",{type:"button",className:"p-2 bg-theme-primary text-white rounded-lg",children:e.jsx(jr,{className:"w-6 h-6"})})]}),e.jsx("button",{type:"submit",className:"w-full mt-6 px-4 py-3 bg-theme-primary text-white rounded-lg font-medium hover:bg-theme-secondary transition-colors",children:"ENVIAR"})]})]})})]})]}),y&&k()]})}function Fa({account:r}){const{t}=J.useTranslation(),[a,s]=x.useState(!1),[o,c]=x.useState(!1),l=()=>{c(!0)},h={AUTOMATED_INVESTMENT:"Automated Investment",MARKET_HUB:"Market Hub"},m="Individual",y=["John Doe"],j=[{id:"terms",name:"Terms and Conditions",date:"2024-01-15",url:"#"},{id:"privacy",name:"Privacy Policy",date:"2024-01-15",url:"#"},{id:"agreement",name:"Investment Agreement",date:"2024-01-15",url:"#"}],u=[{id:"email",name:"Email Support",value:"support@vestiva.com",icon:Ne},{id:"phone",name:"Phone Support",value:"+1 (800) 555-0123",icon:Ne}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t("account.settings.title")})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:t("account.settings.accountType")}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(bn,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:m})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:t("account.settings.holders")}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(Un,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:y.join(", ")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:t("account.settings.investmentAccountNumber")}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx($n,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:r.id})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:t("account.settings.product")}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(Ne,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:h[r.type]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:t("account.settings.alias")}),e.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ka,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:r.alias})]}),e.jsx("button",{onClick:l,className:"text-theme-primary dark:text-theme-accent hover:text-theme-secondary dark:hover:text-theme-accent/80 transition-colors",children:e.jsx(ka,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:t("account.settings.withdrawalAccounts.title")}),e.jsxs("button",{onClick:()=>s(!0),className:"flex items-center justify-between w-full p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-theme-accent/10 dark:bg-theme-accent/20 group-hover:bg-theme-accent/20 dark:group-hover:bg-theme-accent/30 transition-colors",children:e.jsx(vn,{className:"w-5 h-5 text-theme-accent"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("account.settings.withdrawalAccounts.registeredAccounts")}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t("account.settings.withdrawalAccounts.manageAccounts")})]})]}),e.jsx(br,{className:"w-5 h-5 text-gray-400 group-hover:text-theme-accent transition-colors"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t("account.settings.sections.legal")})}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:j.map(g=>e.jsxs("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:g.name}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(g.date).toLocaleDateString()})]})]}),e.jsx(br,{className:"w-5 h-5 text-gray-400"})]},g.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t("account.settings.sections.support")})}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:u.map(g=>e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g.icon,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:g.name}),e.jsx("p",{className:"text-sm text-gray-500",children:g.value})]})]})},g.id))})]})]}),a&&e.jsx(ii,{accountId:r.id,onClose:()=>s(!1)})]})}const Et=[{symbol:"AAPL",name:"Apple Inc.",sector:"Technology",price:173.25,quantity:10,value:1732.5,performance:125.3,percentage:33.33,logoUrl:"https://companieslogo.com/img/orig/AAPL-bf1a4314.png"},{symbol:"MSFT",name:"Microsoft Corporation",sector:"Technology",price:338.11,quantity:5,value:1690.55,performance:89.75,percentage:33.33,logoUrl:"https://companieslogo.com/img/orig/MSFT-6e6e6e96.png"},{symbol:"GOOGL",name:"Alphabet Inc.",sector:"Technology",price:125.3,quantity:15,value:1879.5,performance:-45.2,percentage:33.34,logoUrl:"https://companieslogo.com/img/orig/GOOGL-0ed88f7c.png"}],oi=[{label:"1M",value:"1M"},{label:"6M",value:"6M"},{label:"1Y",value:"1Y"},{label:"Max",value:"Max"}];function li({account:r,embedded:t=!1,enabledSections:a}){const[s,o]=x.useState("summary"),[c,l]=x.useState("evolution"),[h,m]=x.useState("1M"),[y,j]=x.useState(!1),{t:u}=J.useTranslation(),{colorTheme:g}=_e(),d=[{id:"summary",label:u("account.tabs.summary"),icon:wt},{id:"performance",label:u("account.tabs.performance"),icon:pr},{id:"activity",label:u("account.tabs.activity"),icon:Ne},{id:"statements",label:u("account.tabs.statements"),icon:Ht},{id:"settings",label:u("account.tabs.settings"),icon:wr}],k=[{id:"evolution",label:u("account.evolution")},{id:"composition",label:u("account.composition")}],p=E=>{console.log(`Handle ${E} for account:`,r.id)},N=E=>!a||a.includes(E),M=E=>{console.log("Action:",E)},I=E=>{console.log("Instrument clicked:",E)},K=(E,b)=>{console.log("Instrument action:",E,b)},L={labels:Et.map(E=>E.symbol),datasets:[{data:Et.map(E=>E.percentage),backgroundColor:[`rgba(${g.colors.primaryRgb}, 0.8)`,`rgba(${g.colors.secondaryRgb}, 0.8)`,`rgba(${g.colors.accentRgb}, 0.8)`],borderWidth:0}]},W={responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{label:E=>`${E.label}: ${E.raw}%`}}}},H=d.find(E=>E.id===s);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"lg:hidden",children:[e.jsxs("button",{onClick:()=>j(!y),className:"flex items-center justify-between w-full px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[(H==null?void 0:H.icon)&&e.jsx(H.icon,{className:"w-5 h-5"}),e.jsx("span",{children:H==null?void 0:H.label})]}),y?e.jsx(Vt,{className:"w-5 h-5"}):e.jsx(kr,{className:"w-5 h-5"})]}),y&&e.jsxs("div",{className:"absolute z-20 mt-2 w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[d.map(E=>{const b=E.icon;return e.jsxs("button",{onClick:()=>{o(E.id),j(!1)},className:`flex items-center space-x-2 w-full px-4 py-3 text-left ${s===E.id?"bg-gray-100 dark:bg-gray-700 text-theme-primary dark:text-theme-accent":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{children:E.label})]},E.id)}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>p("deposit"),className:"px-4 py-2 bg-theme-primary text-white rounded-md hover:bg-theme-secondary transition-colors text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Bt,{className:"w-4 h-4"}),e.jsx("span",{children:u("dashboard.deposit")})]})}),r.funded&&e.jsx("button",{onClick:()=>p("withdraw"),className:"px-4 py-2 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4"}),e.jsx("span",{children:u("dashboard.withdraw")})]})})]})})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex flex-1",children:d.map(E=>{const b=E.icon;return e.jsx("button",{onClick:()=>o(E.id),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${s===E.id?"border-theme-primary text-theme-primary dark:text-theme-accent dark:border-theme-accent":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:E.label})]})},E.id)})}),e.jsxs("div",{className:"flex items-center gap-2 px-4",children:[e.jsx("button",{onClick:()=>p("deposit"),className:"px-4 py-2 bg-theme-primary text-white rounded-md hover:bg-theme-secondary transition-colors text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Bt,{className:"w-4 h-4"}),e.jsx("span",{children:u("dashboard.deposit")})]})}),r.funded&&e.jsx("button",{onClick:()=>p("withdraw"),className:"px-4 py-2 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4"}),e.jsx("span",{children:u("dashboard.withdraw")})]})})]})]})})}),s==="summary"&&e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[N("summary-graph")&&e.jsx("div",{className:"col-span-12 lg:col-span-8 bg-white dark:bg-gray-800 rounded-lg shadow",children:r.funded?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex",children:k.map(E=>e.jsx("button",{onClick:()=>l(E.id),className:`flex-1 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${c===E.id?"border-theme-primary text-theme-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:E.label},E.id))})}),e.jsx("div",{className:"p-6",children:c==="evolution"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:u("account.accountValue")}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-theme-primary dark:text-theme-accent",children:["$",r.value.toLocaleString()]}),e.jsxs("p",{className:`text-sm ${r.performance.total>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[r.performance.total>=0?"+":"","$",r.performance.total.toLocaleString()," (",r.performance.percentage,"%)"]})]})]}),e.jsx("div",{className:"flex space-x-2 w-full sm:w-auto mt-4 sm:mt-0",children:oi.map(E=>e.jsx("button",{onClick:()=>m(E.value),className:`flex-1 sm:flex-none px-3 py-1 text-sm rounded transition-colors ${h===E.value?"bg-theme-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:E.label},E.value))})]}),e.jsx("div",{className:"w-full h-[300px] sm:h-[350px]",children:e.jsx(_t,{data:Oa(g),options:Ra})})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"relative h-64 min-h-[16rem]",children:[e.jsx(at,{data:L,options:W}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Et.length}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Posiciones"})]})})]}),e.jsx("div",{className:"flex flex-col justify-center space-y-3 py-4",children:Et.map((E,b)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:[`rgba(${g.colors.primaryRgb}, 0.8)`,`rgba(${g.colors.secondaryRgb}, 0.8)`,`rgba(${g.colors.accentRgb}, 0.8)`][b]}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:E.symbol}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:E.name})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-theme-primary dark:text-theme-accent",children:[E.percentage.toFixed(2),"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["$",E.value.toLocaleString()]})]})]},E.symbol))})]})})]}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-yellow-100 dark:bg-yellow-900 mb-4",children:e.jsx(wt,{className:"w-8 h-8 text-yellow-600 dark:text-yellow-400"})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:u("dashboard.unfundedAccount")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:u("dashboard.fundAccountMessage")}),e.jsx("button",{onClick:()=>console.log("Fund account:",r.id),className:"inline-flex items-center px-4 py-2 bg-theme-primary text-white rounded-md hover:bg-theme-secondary transition-colors",children:u("dashboard.deposit")})]})}),N("summary-actions")&&e.jsx("div",{className:"col-span-12 lg:col-span-4 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Market Hub"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[r.id," • ",r.alias]}),r.buyingPower!==void 0&&e.jsxs("p",{className:"text-sm text-theme-primary dark:text-theme-accent mt-1",children:[u("account.buyingPower"),": $",r.buyingPower.toLocaleString()]})]}),e.jsx("div",{className:"p-4",children:e.jsx(Xn,{onAction:M})})]})}),N("summary-instruments")&&r.funded&&e.jsx("div",{className:"col-span-12 bg-white dark:bg-gray-800 rounded-lg shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:u("account.assetAllocation")}),e.jsx(Pa,{instruments:Et,onInstrumentClick:I,type:"MARKET_HUB",onInstrumentAction:K})]})})]}),s==="performance"&&N("performance")&&e.jsx(Ma,{accountId:r.id,hasFunds:r.funded,hasData:r.funded}),s==="activity"&&N("activity")&&e.jsx(Ia,{accountId:r.id,hasFunds:r.funded,hasData:r.funded}),s==="statements"&&N("statements")&&e.jsx(Da,{accountId:r.id,hasFunds:r.funded,hasData:r.funded}),s==="settings"&&e.jsx(Fa,{account:r})]})}const ye=[{id:"blackrock",name:"BlackRock Long-Horizon",portfolios:[{id:"blackrock-growth",name:"Crecimiento",type:"RENTA VARIABLE",stocksPercentage:77.6,bondsPercentage:22.4,allocation:[{symbol:"CSPX",name:"US Stocks",percentage:57,color:"#3B9AE1"},{symbol:"EIMI",name:"Emerging Markets",percentage:9.5,color:"#0066CC"},{symbol:"IJPA",name:"Japan Stocks",percentage:4.9,color:"#64B5F6"},{symbol:"CEUU",name:"European Stocks",percentage:6.2,color:"#41C9E2"},{symbol:"LQDA",name:"US Bonds",percentage:5.8,color:"#4CAF50"},{symbol:"CSBGU0",name:"Global Bonds",percentage:7.3,color:"#2E7D32"},{symbol:"IHYA",name:"High Yield Bonds",percentage:2.5,color:"#81C784"}]},{id:"blackrock-balanced",name:"Balanceado",type:"RENTA MIXTA",stocksPercentage:61.5,bondsPercentage:38.5,allocation:[{symbol:"CSPX",name:"US Stocks",percentage:45,color:"#3B9AE1"},{symbol:"EIMI",name:"Emerging Markets",percentage:7.5,color:"#0066CC"},{symbol:"IJPA",name:"Japan Stocks",percentage:4,color:"#64B5F6"},{symbol:"CEUU",name:"European Stocks",percentage:5,color:"#41C9E2"},{symbol:"LQDA",name:"US Bonds",percentage:15.8,color:"#4CAF50"},{symbol:"CSBGU0",name:"Global Bonds",percentage:17.3,color:"#2E7D32"},{symbol:"IHYA",name:"High Yield Bonds",percentage:5.4,color:"#81C784"}]}]},{id:"bcp",name:"BCP Portfolios",portfolios:[{id:"bcp-growth",name:"Crecimiento",type:"RENTA VARIABLE",stocksPercentage:100,bondsPercentage:0,allocation:[{symbol:"VTI",name:"US Total Market",percentage:60,color:"#3B9AE1"},{symbol:"VEA",name:"Developed Markets",percentage:25,color:"#41C9E2"},{symbol:"VWO",name:"Emerging Markets",percentage:15,color:"#64B5F6"}]},{id:"bcp-balanced",name:"Balanceado",type:"RENTA MIXTA",stocksPercentage:65,bondsPercentage:35,allocation:[{symbol:"VTI",name:"US Total Market",percentage:40,color:"#3B9AE1"},{symbol:"VEA",name:"Developed Markets",percentage:15,color:"#41C9E2"},{symbol:"VWO",name:"Emerging Markets",percentage:10,color:"#64B5F6"},{symbol:"BND",name:"US Bonds",percentage:25,color:"#4CAF50"},{symbol:"BNDX",name:"International Bonds",percentage:10,color:"#2E7D32"}]}]},{id:"vanguard",name:"Vanguard ETFs",portfolios:[{id:"vanguard-growth",name:"Crecimiento",type:"RENTA VARIABLE",stocksPercentage:100,bondsPercentage:0,allocation:[{symbol:"VTI",name:"US Total Market",percentage:65,color:"#3B9AE1"},{symbol:"VGK",name:"European Stocks",percentage:20,color:"#41C9E2"},{symbol:"VPL",name:"Pacific Stocks",percentage:15,color:"#64B5F6"}]}]},{id:"ishares",name:"iShares Core",portfolios:[{id:"ishares-growth",name:"Crecimiento",type:"RENTA VARIABLE",stocksPercentage:100,bondsPercentage:0,allocation:[{symbol:"IVV",name:"S&P 500",percentage:60,color:"#3B9AE1"},{symbol:"IEUR",name:"European Stocks",percentage:25,color:"#41C9E2"},{symbol:"IPAC",name:"Pacific Stocks",percentage:15,color:"#64B5F6"}]}]}],At={U13186484:[{id:"PC003",fromPortfolio:ye[0].portfolios[1],toPortfolio:ye[1].portfolios[0],requestDate:"2024-04-15",status:"in_progress",effectiveDate:"2024-04-22"},{id:"PC001",fromPortfolio:ye[0].portfolios[0],toPortfolio:ye[0].portfolios[1],requestDate:"2024-04-01",status:"completed",completionDate:"2024-04-05",effectiveDate:"2024-04-05"},{id:"PC002",fromPortfolio:ye[0].portfolios[1],toPortfolio:ye[0].portfolios[0],requestDate:"2024-03-15",status:"cancelled"}],U15043437:[{id:"PC004",fromPortfolio:ye[0].portfolios[0],toPortfolio:ye[1].portfolios[1],requestDate:"2024-04-15",status:"in_progress",effectiveDate:"2024-04-22"}]};function ci(r){return yr({queryKey:["latest-portfolio-change",r],queryFn:()=>{const a=(At[r]||[]).find(s=>s.status==="pending"||s.status==="in_progress");return Promise.resolve(a||null)}})}function di(){const r=gr();return an({mutationFn:s=>re(this,[s],function*({accountId:t,changeId:a}){yield new Promise(l=>setTimeout(l,500));const c=(At[t]||[]).find(l=>l.id===a);return c&&(c.status="cancelled"),c}),onSuccess:(t,{accountId:a})=>{r.invalidateQueries({queryKey:["portfolio-changes",a]}),r.invalidateQueries({queryKey:["latest-portfolio-change",a]})}})}function ui({isOpen:r,onClose:t,onSave:a,currentPortfolio:s,pendingChange:o,accountId:c}){const{t:l}=J.useTranslation(),{colorTheme:h}=_e(),[m,y]=x.useState("change"),[j,u]=x.useState(ye[0].id),[g,d]=x.useState(0),k=di();if(!r)return null;const p=ye.find(b=>b.id===j),N=p.portfolios[g],M=b=>{const F=p.portfolios.length;d(v=>b==="next"?(v+1)%F:(v-1+F)%F)},I=()=>re(this,null,function*(){if(o)try{yield k.mutateAsync({accountId:c,changeId:o.id}),t()}catch(b){console.error("Failed to cancel portfolio change:",b)}}),K=b=>({labels:b.allocation.map(F=>F.name),datasets:[{data:b.allocation.map(F=>F.percentage),backgroundColor:b.allocation.map(F=>F.color),borderWidth:0,hoverOffset:4}]}),L={responsive:!0,maintainAspectRatio:!1,cutout:"65%",plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",padding:8,displayColors:!0,callbacks:{label:function(b){const F=b.label||"",v=b.raw||0;return` ${F}: ${v}%`},labelColor:function(b){return{backgroundColor:N.allocation[b.dataIndex].color,borderColor:N.allocation[b.dataIndex].color}}}}}},W=b=>{switch(b){case"completed":return"text-green-600 dark:text-green-400";case"cancelled":return"text-red-600 dark:text-red-400";case"in_progress":return"text-blue-600 dark:text-blue-400";default:return"text-yellow-600 dark:text-yellow-400"}},H=b=>{switch(b){case"completed":return fa;case"cancelled":return fn;default:return vr}},E=b=>new Date(b).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"});return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),e.jsxs("div",{className:"relative w-full max-w-4xl rounded-lg bg-white dark:bg-gray-800 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 p-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:l("portfolio.changePortfolio")}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:e.jsx(Vt,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>y("change"),className:`flex-1 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${m==="change"?"border-theme-primary text-theme-primary dark:text-theme-accent dark:border-theme-accent":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:l("portfolio.changePortfolio")}),e.jsx("button",{onClick:()=>y("history"),className:`flex-1 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${m==="history"?"border-theme-primary text-theme-primary dark:text-theme-accent dark:border-theme-accent":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:l("portfolio.history.title")})]})}),e.jsx("div",{className:"p-4",children:m==="change"?o?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[e.jsx(vr,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:l("portfolio.changeInProgress")})]}),e.jsxs("p",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:[l("portfolio.requestedOn")," ",E(o.requestDate)]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:l("portfolio.currentPortfolioTitle")}),e.jsxs("div",{className:"relative h-48",children:[e.jsx(at,{data:K(o.fromPortfolio),options:L}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-base text-gray-900 dark:text-white",children:[e.jsxs("span",{className:"font-medium",children:[o.fromPortfolio.stocksPercentage,"% ",l("portfolio.stocks")]}),e.jsx("br",{}),e.jsxs("span",{className:"font-medium",children:[o.fromPortfolio.bondsPercentage,"% ",l("portfolio.bonds")]})]})})})]}),e.jsx("div",{className:"mt-4 space-y-2",children:o.fromPortfolio.allocation.map(b=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:b.color}}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[b.symbol," - ",b.name]})]}),e.jsxs("span",{className:"text-xs font-medium text-theme-primary dark:text-theme-accent",children:[b.percentage.toFixed(2),"%"]})]},b.symbol))})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:l("portfolio.futurePortfolioTitle")}),e.jsxs("div",{className:"relative h-48",children:[e.jsx(at,{data:K(o.toPortfolio),options:L}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-base text-gray-900 dark:text-white",children:[e.jsxs("span",{className:"font-medium",children:[o.toPortfolio.stocksPercentage,"% ",l("portfolio.stocks")]}),e.jsx("br",{}),e.jsxs("span",{className:"font-medium",children:[o.toPortfolio.bondsPercentage,"% ",l("portfolio.bonds")]})]})})})]}),e.jsx("div",{className:"mt-4 space-y-2",children:o.toPortfolio.allocation.map(b=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:b.color}}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[b.symbol," - ",b.name]})]}),e.jsxs("span",{className:"text-xs font-medium text-theme-primary dark:text-theme-accent",children:[b.percentage.toFixed(2),"%"]})]},b.symbol))})]})]}),e.jsx("button",{onClick:I,disabled:k.isPending,className:"w-full mt-6 px-4 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50",children:k.isPending?l("portfolio.cancelling"):l("portfolio.cancel")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 mb-6",children:ye.map(b=>e.jsx("button",{onClick:()=>{u(b.id),d(0)},className:`p-3 rounded-lg border transition-colors ${j===b.id?"border-theme-primary bg-theme-accent/10 dark:bg-theme-accent/20":"border-gray-200 dark:border-gray-700 hover:border-theme-accent dark:hover:border-theme-accent"}`,children:e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:b.name})},b.id))}),N&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-500 dark:text-gray-400",children:l("portfolio.changePortfolioTo")}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:N.name}),e.jsx("h4",{className:"text-sm text-theme-primary dark:text-theme-accent",children:p.name})]}),e.jsx("button",{onClick:()=>a(N.id),className:"px-4 py-2 bg-theme-primary text-white text-sm rounded-md hover:bg-theme-secondary transition-colors",children:l("common.saveChanges")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative h-48",children:[p.portfolios.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>M("prev"),className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-3 z-10 p-1.5 rounded-full bg-white dark:bg-gray-700 shadow-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:e.jsx(kn,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})}),e.jsx("button",{onClick:()=>M("next"),className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-3 z-10 p-1.5 rounded-full bg-white dark:bg-gray-700 shadow-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:e.jsx(Nn,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]}),e.jsx(at,{data:K(N),options:L}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-base text-gray-900 dark:text-white",children:[e.jsxs("span",{className:"font-medium",children:[N.stocksPercentage,"% ",l("portfolio.stocks")]}),e.jsx("br",{}),e.jsxs("span",{className:"font-medium",children:[N.bondsPercentage,"% ",l("portfolio.bonds")]})]})})})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:N.allocation.map(b=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:b.color}}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[b.symbol," - ",b.name]})]}),e.jsxs("span",{className:"text-xs font-medium text-theme-primary dark:text-theme-accent",children:[b.percentage.toFixed(2),"%"]})]},b.symbol))})]})]})]}):e.jsx("div",{className:"space-y-4",children:!At[c]||At[c].length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 mb-4",children:e.jsx(En,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:l("portfolio.history.empty.title")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:l("portfolio.history.empty.description")})]}):At[c].map(b=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const F=H(b.status);return e.jsx(F,{className:`w-5 h-5 ${W(b.status)}`})})(),e.jsx("span",{className:`font-medium ${W(b.status)}`,children:l(`portfolio.status.${b.status}`)})]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[l("portfolio.requestedOn")," ",E(b.requestDate)]}),b.completionDate&&e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l("portfolio.completedOn")," ",E(b.completionDate)]})]}),(b.status==="pending"||b.status==="in_progress")&&e.jsx("button",{onClick:()=>I(),disabled:k.isPending,className:"px-4 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors disabled:opacity-50",children:k.isPending?l("portfolio.cancelling"):l("portfolio.cancel")})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:b.fromPortfolio.name}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[b.fromPortfolio.stocksPercentage,"% ",l("portfolio.stocks"),", ",b.fromPortfolio.bondsPercentage,"% ",l("portfolio.bonds")]})]}),e.jsx(br,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:b.toPortfolio.name}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[b.toPortfolio.stocksPercentage,"% ",l("portfolio.stocks"),", ",b.toPortfolio.bondsPercentage,"% ",l("portfolio.bonds")]})]})]})]},b.id))})}),m==="change"&&!o&&e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-3",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"flex gap-1",children:p.portfolios.map((b,F)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${F===g?"bg-theme-primary dark:bg-theme-accent":"bg-gray-200 dark:bg-gray-700"}`},F))})})})]})]})})}const st=[{symbol:"CSPX",name:"US Stocks",quantity:17,value:897.94,performance:-12.71,percentage:57,color:"#3B9AE1"},{symbol:"EIMI",name:"Emerging Markets",quantity:49,value:1618.96,performance:-48.82,percentage:9.5,color:"#0066CC"},{symbol:"IJPA",name:"Japan Stocks",quantity:95,value:703.38,performance:-4.18,percentage:4.9,color:"#64B5F6"}],hi=[{id:"stocks",name:"stocks",percentage:100},{id:"bonds",name:"bonds",percentage:0},{id:"cash",name:"cash",percentage:0}],mi=[{label:"1M",value:"1M"},{label:"6M",value:"6M"},{label:"1Y",value:"1Y"},{label:"Max",value:"Max"}];function gi({account:r,embedded:t=!1,enabledSections:a}){const[s,o]=x.useState("summary"),[c,l]=x.useState("evolution"),[h,m]=x.useState("1M"),[y,j]=x.useState(!1),[u,g]=x.useState(!1),{t:d}=J.useTranslation(),{colorTheme:k}=_e(),{data:p}=ci(r.id),{data:N}=Gn(r.id),M=[{id:"summary",label:d("account.tabs.summary"),icon:wt},{id:"performance",label:d("account.tabs.performance"),icon:pr},{id:"activity",label:d("account.tabs.activity"),icon:Ne},{id:"statements",label:d("account.tabs.statements"),icon:Ht},{id:"settings",label:d("account.tabs.settings"),icon:wr}],I=v=>{console.log(`Handle ${v} for account:`,r.id)},K=[{id:"evolution",label:d("account.evolution")},{id:"composition",label:d("account.composition")}],L=v=>!a||a.includes(v),W=v=>{console.log("Changing to portfolio:",v),j(!1)},H=v=>{console.log("Instrument clicked:",v)},E={labels:st.map(v=>v.symbol),datasets:[{data:st.map(v=>v.percentage),backgroundColor:st.map(v=>v.color),borderWidth:0}]},b={responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{label:v=>`${v.label}: ${v.raw}%`}}}},F=M.find(v=>v.id===s);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"lg:hidden",children:[e.jsxs("button",{onClick:()=>g(!u),className:"flex items-center justify-between w-full px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[(F==null?void 0:F.icon)&&e.jsx(F.icon,{className:"w-5 h-5"}),e.jsx("span",{children:F==null?void 0:F.label})]}),u?e.jsx(Vt,{className:"w-5 h-5"}):e.jsx(kr,{className:"w-5 h-5"})]}),u&&e.jsxs("div",{className:"absolute z-20 mt-2 w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[M.map(v=>{const ie=v.icon;return e.jsxs("button",{onClick:()=>{o(v.id),g(!1)},className:`flex items-center space-x-2 w-full px-4 py-3 text-left ${s===v.id?"bg-gray-100 dark:bg-gray-700 text-theme-primary dark:text-theme-accent":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e.jsx(ie,{className:"w-5 h-5"}),e.jsx("span",{children:v.label})]},v.id)}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>I("deposit"),className:"px-4 py-2 bg-theme-primary text-white rounded-md hover:bg-theme-secondary transition-colors text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Bt,{className:"w-4 h-4"}),e.jsx("span",{children:d("dashboard.deposit")})]})}),e.jsx("button",{onClick:()=>I("withdraw"),className:"px-4 py-2 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4"}),e.jsx("span",{children:d("dashboard.withdraw")})]})})]})})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex flex-1",children:M.map(v=>{const ie=v.icon;return e.jsx("button",{onClick:()=>o(v.id),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${s===v.id?"border-theme-primary text-theme-primary dark:text-theme-accent dark:border-theme-accent":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{children:v.label})]})},v.id)})}),e.jsxs("div",{className:"flex items-center gap-2 px-4",children:[e.jsx("button",{onClick:()=>I("deposit"),className:"px-4 py-2 bg-theme-primary text-white rounded-md hover:bg-theme-secondary transition-colors text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Bt,{className:"w-4 h-4"}),e.jsx("span",{children:d("dashboard.deposit")})]})}),r.funded&&e.jsx("button",{onClick:()=>I("withdraw"),className:"px-4 py-2 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4"}),e.jsx("span",{children:d("dashboard.withdraw")})]})})]})]})})}),s==="summary"&&e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[L("summary-graph")&&e.jsx("div",{className:"col-span-12 lg:col-span-8 bg-white dark:bg-gray-800 rounded-lg shadow",children:r.funded?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex",children:K.map(v=>e.jsx("button",{onClick:()=>l(v.id),className:`flex-1 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${c===v.id?"border-theme-primary text-theme-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:v.label},v.id))})}),e.jsx("div",{className:"p-6",children:c==="evolution"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:d("account.accountValue")}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-theme-primary dark:text-theme-accent",children:["$",r.value.toLocaleString()]}),e.jsxs("p",{className:`text-sm ${r.performance.total>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[r.performance.total>=0?"+":"","$",r.performance.total.toLocaleString()," (",r.performance.percentage,"%)"]})]})]}),e.jsx("div",{className:"flex space-x-2 w-full sm:w-auto mt-4 sm:mt-0",children:mi.map(v=>e.jsx("button",{onClick:()=>m(v.value),className:`flex-1 sm:flex-none px-3 py-1 text-sm rounded transition-colors ${h===v.value?"bg-theme-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:v.label},v.value))})]}),e.jsx("div",{className:"w-full h-[300px] sm:h-[350px]",children:e.jsx(_t,{data:Oa(k),options:Ra})})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"relative h-64 min-h-[16rem]",children:[e.jsx(at,{data:E,options:b}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:st.length}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:d("portfolio.instruments")})]})})]}),e.jsx("div",{className:"flex flex-col justify-center space-y-3 py-4",children:st.map(v=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:v.color}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v.symbol}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:v.name})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-theme-primary dark:text-theme-accent",children:[v.percentage.toFixed(2),"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["$",v.value.toLocaleString()]})]})]},v.symbol))})]})})]}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-yellow-100 dark:bg-yellow-900 mb-4",children:e.jsx(wt,{className:"w-8 h-8 text-yellow-600 dark:text-yellow-400"})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:d("dashboard.unfundedAccount")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:d("dashboard.fundAccountMessage")}),e.jsx("button",{onClick:()=>console.log("Fund account:",r.id),className:"inline-flex items-center px-4 py-2 bg-theme-primary text-white rounded-md hover:bg-theme-secondary transition-colors",children:d("dashboard.deposit")})]})}),L("summary-portfolio")&&e.jsxs("div",{className:"col-span-12 lg:col-span-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:d("account.portfolio")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:"RENTA VARIABLE"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"BlackRock Long-Horizon"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"space-y-4 mb-6",children:hi.map(v=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:d(`portfolio.${v.name}`)}),e.jsxs("span",{className:"text-sm font-medium text-theme-primary dark:text-theme-accent",children:[v.percentage,"%"]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-300 bg-theme-primary",style:{width:`${v.percentage}%`}})})})]},v.id))}),e.jsx("button",{onClick:()=>j(!0),className:"w-full px-4 py-2 text-sm font-medium text-white bg-theme-primary hover:bg-theme-primary-dark rounded-md transition-colors",children:d("portfolio.change")})]})]}),L("summary-instruments")&&r.funded&&e.jsx("div",{className:"col-span-12 bg-white dark:bg-gray-800 rounded-lg shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:d("account.assetAllocation")}),e.jsx(Pa,{instruments:st,onInstrumentClick:H,type:"AUTOMATED_INVESTMENT"})]})})]}),s==="performance"&&L("performance")&&e.jsx(Ma,{accountId:r.id,hasFunds:r.funded,hasData:r.funded}),s==="activity"&&L("activity")&&e.jsx(Ia,{accountId:r.id,hasFunds:r.funded,hasData:r.funded}),s==="statements"&&L("statements")&&e.jsx(Da,{accountId:r.id,hasFunds:r.funded,hasData:r.funded}),s==="settings"&&e.jsx(Fa,{account:r}),!t&&e.jsx(ui,{isOpen:y,onClose:()=>j(!1),onSave:W,currentPortfolio:N,pendingChange:p,accountId:r.id})]})}function xi(){return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-theme-accent/10 dark:bg-theme-accent/20 rounded-full mb-4",children:e.jsx(wt,{className:"w-8 h-8 text-theme-accent animate-pulse"})}),e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded mx-auto"})})]})})}const yi={U13186484:{id:"U13186484",alias:"Joaco",type:"AUTOMATED_INVESTMENT",value:14692.92,percentage:35,funded:!0,performance:{total:-307.08,percentage:-2.06,period:"1Y"}},U15043437:{id:"U15043437",alias:"Manu",type:"AUTOMATED_INVESTMENT",value:14692.92,percentage:35,funded:!0,performance:{total:-307.08,percentage:-2.06,period:"1Y"}},U10246500:{id:"U10246500",alias:"Market Hub",type:"MARKET_HUB",value:5297.48,buyingPower:225.46,percentage:15,funded:!0,performance:{total:317.23,percentage:6.37,period:"1Y"}},U20231201:{id:"U20231201",alias:"New Investment",type:"AUTOMATED_INVESTMENT",value:0,percentage:7.5,funded:!1,performance:{total:0,percentage:0,period:"1Y"}},U20231202:{id:"U20231202",alias:"Trading Account",type:"MARKET_HUB",value:0,percentage:7.5,funded:!1,buyingPower:0,performance:{total:0,percentage:0,period:"1Y"}}};function fi({embedded:r=!1,accountId:t,enabledSections:a}){const{id:s}=R.useParams(),o=t||s,{t:c}=J.useTranslation(),[l,h]=x.useState(!0);if(x.useEffect(()=>{const j=setTimeout(()=>{h(!1)},500);return()=>clearTimeout(j)},[]),l)return e.jsx(xi,{});const m=o?yi[o]:null;if(!m)return e.jsx(R.Navigate,{to:"/",replace:!0});const y=`${m.id} - ${m.alias}`;return e.jsx(Aa,{title:y,embedded:r,children:m.type==="MARKET_HUB"?e.jsx(li,{account:m,embedded:r,enabledSections:a}):e.jsx(gi,{account:m,embedded:r,enabledSections:a})})}const pi={common:{welcome:"Welcome back",signIn:"Sign in",signOut:"Sign Out",email:"Email address",password:"Password",loading:"Loading...",error:{invalidCredentials:"Invalid email or password"},saveChanges:"Save Changes",noData:"No information to display"},nav:{home:"HOME",investments:"INVESTMENTS",insurance:"INSURANCE",faq:"FAQ",legal:"LEGAL"},dashboard:{title:"Investment Dashboard",summary:"INVESTMENT SUMMARY",accounts:"INVESTMENT ACCOUNTS",openAccount:"OPEN ACCOUNT",totalCurrent:"CURRENT TOTAL",deposit:"Deposit",withdraw:"Withdraw",unfundedAccount:"Account needs funding",fundAccountMessage:"Please make a deposit to start investing"},account:{accountValue:"ACCOUNT VALUE",portfolio:"YOUR PORTFOLIO",assetAllocation:"ASSET ALLOCATION",buyingPower:"Buying Power",tabs:{summary:"SUMMARY",performance:"PERFORMANCE",activity:"ACTIVITY",statements:"STATEMENTS",legal:"LEGAL",settings:"SETTINGS"},evolution:"Evolution",composition:"Composition",settings:{title:"MY ACCOUNT",accountType:"ACCOUNT TYPE",holders:"HOLDERS",investmentAccountNumber:"INVESTMENT ACCOUNT NUMBER",product:"PRODUCT",alias:"ALIAS",withdrawalAccounts:{title:"WITHDRAWAL ACCOUNTS MANAGEMENT",registeredAccounts:"Registered Accounts",manageAccounts:"Manage bank and financial accounts"},sections:{legal:"LEGAL",support:"SUPPORT"}}},marketHub:{actions:{buy:"BUY",sell:"SELL",trade:"TRADE",tradeDescription:"Trade stocks and ETFs",watchlists:"WATCHLISTS & INSTRUMENTS",watchlistsDescription:"Manage your watchlists",instruments:"INSTRUMENTS",instrumentsDescription:"Explore the market",orders:"ORDER MONITOR",ordersDescription:"Check your orders status",analytics:"ANALYTICS",analyticsDescription:"Advanced market analysis"}},portfolio:{changePortfolio:"Change Portfolio",currentPortfolio:"Current Portfolio",change:"Change Portfolio",changeInProgress:"Portfolio Change in Progress",requestedOn:"Requested on",completedOn:"Completed on",currentPortfolioTitle:"Current Portfolio",futurePortfolioTitle:"Future Portfolio",changePortfolioTo:"Change Portfolio to",stocks:"Stocks",bonds:"Bonds",cash:"Cash",instruments:"Instruments",status:{completed:"Completed",cancelled:"Cancelled",inProgress:"In Progress",pending:"Pending"},cancel:"Cancel",cancelling:"Cancelling...",history:{title:"Change History",empty:{title:"No change history",description:"This account has no portfolio changes recorded. Changes will appear here once you make modifications to your portfolio."}}},performance:{title:"PERFORMANCE",netGains:"Net Gains",totalReturn:"Total Return",lastUpdate:"Last Update",monthlyReturn:"MONTHLY RETURN",return:"Return",periods:{month:"Month",quarter:"Quarter",ytd:"YTD",inception:"Since Inception",all:"SINCE INCEPTION"}},activity:{noTransactions:"No transactions to show",details:"View details",reason:"Reason",comment:"Comment",types:{withdrawal:"WITHDRAWAL",deposit:"DEPOSIT"},status:{cancelled:"Cancelled",completed:"Completed"}},statements:{tabs:{statements:"ACCOUNT STATEMENTS",tax:"TAX DOCUMENTS"},types:{monthly:"MONTHLY STATEMENT",annual:"ANNUAL STATEMENT",tax:"TAX DOCUMENT"}}},bi={common:{welcome:"Bienvenido de nuevo",signIn:"Iniciar sesión",signOut:"Cerrar sesión",email:"Correo electrónico",password:"Contraseña",loading:"Cargando...",error:{invalidCredentials:"Correo o contraseña inválidos"},saveChanges:"Guardar Cambios",noData:"No hay información para mostrar"},nav:{home:"INICIO",investments:"INVERSIONES",insurance:"SEGUROS",faq:"FAQ",legal:"LEGALES"},dashboard:{title:"Panel de Inversiones",summary:"RESUMEN DE INVERSIONES",accounts:"CUENTAS DE INVERSIÓN",openAccount:"ABRIR CUENTA",totalCurrent:"TOTAL ACTUAL",deposit:"Depositar",withdraw:"Retirar",unfundedAccount:"La cuenta necesita fondos",fundAccountMessage:"Por favor realiza un depósito para comenzar a invertir"},account:{accountValue:"VALOR DE LA CUENTA",portfolio:"TU PORTAFOLIO",assetAllocation:"ASIGNACIÓN DE ACTIVOS",buyingPower:"Poder de Compra",tabs:{summary:"RESUMEN",performance:"DESEMPEÑO",activity:"ACTIVIDAD",statements:"ESTADOS DE CUENTA",legal:"LEGALES",settings:"CONFIGURACIÓN"},evolution:"Evolución",composition:"Composición",settings:{title:"MI CUENTA",accountType:"TIPO DE CUENTA",holders:"TITULARES",investmentAccountNumber:"NRO CUENTA INVERSIÓN",product:"PRODUCTO",alias:"ALIAS",withdrawalAccounts:{title:"GESTIÓN DE CUENTAS DE RETIRO",registeredAccounts:"Cuentas Registradas",manageAccounts:"Gestionar cuentas bancarias y financieras"},sections:{legal:"LEGALES",support:"SOPORTE"}}},marketHub:{actions:{buy:"COMPRAR",sell:"VENDER",trade:"OPERAR",tradeDescription:"Opera acciones y ETFs",watchlists:"LISTAS E INSTRUMENTOS",watchlistsDescription:"Administra tus listas",instruments:"INSTRUMENTOS",instrumentsDescription:"Explora el mercado",orders:"MONITOR DE ÓRDENES",ordersDescription:"Revisa el estado de tus órdenes",analytics:"ANÁLISIS",analyticsDescription:"Análisis avanzado de mercado"}},portfolio:{changePortfolio:"Cambiar Portafolio",currentPortfolio:"Portafolio Actual",change:"Cambiar Portafolio",changeInProgress:"Cambio de Portafolio en Curso",requestedOn:"Solicitado el",completedOn:"Completado el",currentPortfolioTitle:"Portafolio Actual",futurePortfolioTitle:"Portafolio Futuro",changePortfolioTo:"Cambiar Portafolio por",stocks:"Acciones",bonds:"Bonos",cash:"Efectivo",instruments:"Instrumentos",status:{completed:"Completado",cancelled:"Cancelado",inProgress:"En Proceso",pending:"Pendiente"},cancel:"Cancelar",cancelling:"Cancelando...",history:{title:"Historial de Cambios",empty:{title:"Sin historial de cambios",description:"Esta cuenta aún no tiene cambios de portafolio registrados. Los cambios aparecerán aquí una vez que realices modificaciones a tu portafolio."}}},performance:{title:"RENDIMIENTO",netGains:"Ganancias Netas",totalReturn:"Rendimiento Total",lastUpdate:"Última Actualización",monthlyReturn:"RENDIMIENTO MENSUAL",return:"Rendimiento",periods:{month:"Mes",quarter:"Trimestre",ytd:"Este Año",inception:"D. Inicio",all:"DESDE EL INICIO"}},activity:{noTransactions:"No hay transacciones para mostrar",details:"Ver detalles",reason:"Razón",comment:"Comentario",types:{withdrawal:"RETIRO",deposit:"DEPÓSITO"},status:{cancelled:"Cancelado",completed:"Completado"}},statements:{tabs:{statements:"ESTADOS DE CUENTA",tax:"DOCUMENTOS FISCALES"},types:{monthly:"ESTADO MENSUAL",annual:"ESTADO ANUAL",tax:"DOCUMENTO FISCAL"}}},vi={common:{welcome:"Bem-vindo de volta",signIn:"Entrar",signOut:"Sair",email:"Endereço de email",password:"Senha",loading:"Carregando...",error:{invalidCredentials:"Email ou senha inválidos"},saveChanges:"Salvar Alterações",noData:"Não há informações para exibir"},nav:{home:"INÍCIO",investments:"INVESTIMENTOS",insurance:"SEGUROS",faq:"FAQ",legal:"LEGAL"},dashboard:{title:"Painel de Investimentos",summary:"RESUMO DE INVESTIMENTOS",accounts:"CONTAS DE INVESTIMENTO",openAccount:"ABRIR CONTA",totalCurrent:"TOTAL ATUAL",deposit:"Depositar",withdraw:"Retirar",unfundedAccount:"Conta precisa de fundos",fundAccountMessage:"Por favor faça um depósito para começar a investir"},account:{accountValue:"VALOR DA CONTA",portfolio:"SEU PORTFÓLIO",assetAllocation:"ALOCAÇÃO DE ATIVOS",buyingPower:"Poder de Compra",tabs:{summary:"RESUMO",performance:"DESEMPENHO",activity:"ATIVIDADE",statements:"EXTRATOS",legal:"LEGAL",settings:"CONFIGURAÇÕES"},evolution:"Evolução",composition:"Composição",settings:{title:"MINHA CONTA",accountType:"TIPO DE CONTA",holders:"TITULARES",investmentAccountNumber:"Nº CONTA INVESTIMENTO",product:"PRODUTO",alias:"APELIDO",withdrawalAccounts:{title:"GESTÃO DE CONTAS DE RETIRADA",registeredAccounts:"Contas Registradas",manageAccounts:"Gerenciar contas bancárias e financeiras"}}},marketHub:{actions:{buy:"COMPRAR",sell:"VENDER",trade:"OPERAR",tradeDescription:"Opere ações e ETFs",watchlists:"LISTAS E INSTRUMENTOS",watchlistsDescription:"Gerencie suas listas",instruments:"INSTRUMENTOS",instrumentsDescription:"Explore o mercado",orders:"MONITOR DE ORDENS",ordersDescription:"Verifique o status das suas ordens",analytics:"ANÁLISE",analyticsDescription:"Análise avançada de mercado"}},portfolio:{changePortfolio:"Alterar Portfólio",currentPortfolio:"Portfólio Atual",change:"Alterar Portfólio",changeInProgress:"Alteração de Portfólio em Andamento",requestedOn:"Solicitado em",completedOn:"Concluído em",currentPortfolioTitle:"Portfólio Atual",futurePortfolioTitle:"Portfólio Futuro",changePortfolioTo:"Alterar Portfólio para",stocks:"Ações",bonds:"Títulos",cash:"Dinheiro",instruments:"Instrumentos",status:{completed:"Concluído",cancelled:"Cancelado",inProgress:"Em Andamento",pending:"Pendente"},cancel:"Cancelar",cancelling:"Cancelando...",history:{title:"Histórico de Alterações",empty:{title:"Sem histórico de alterações",description:"Esta conta ainda não tem alterações de portfólio registradas. As alterações aparecerão aqui assim que você fizer modificações no seu portfólio."}}},performance:{title:"DESEMPENHO",netGains:"Ganhos Líquidos",totalReturn:"Retorno Total",lastUpdate:"Última Atualização",monthlyReturn:"RETORNO MENSAL",return:"Retorno",periods:{month:"Mês",quarter:"Trimestre",ytd:"Este Ano",inception:"D. Início",all:"DESDE O INÍCIO"}},activity:{noTransactions:"Não há transações para mostrar",details:"Ver detalhes",reason:"Motivo",comment:"Comentário",types:{withdrawal:"SAQUE",deposit:"DEPÓSITO"},status:{cancelled:"Cancelado",completed:"Concluído"}},statements:{tabs:{statements:"EXTRATOS DE CONTA",tax:"DOCUMENTOS FISCAIS"},types:{monthly:"EXTRATO MENSAL",annual:"EXTRATO ANUAL",tax:"DOCUMENTO FISCAL"}}};et.use(ke).use(J.initReactI18next).init({resources:{en:{translation:pi},es:{translation:bi},pt:{translation:vi}},fallbackLng:"en",interpolation:{escapeValue:!1}});class Ua{constructor(t){Jt(this,"container",null);Jt(this,"root",null);Jt(this,"config");this.config=t,this.init()}init(){return re(this,null,function*(){try{this.config.language&&(yield et.changeLanguage(this.config.language));const t=document.getElementById(this.config.containerId);if(!t)throw new Error(`Container with id "${this.config.containerId}" not found`);this.container=t,this.root=rr(t),this.render(),window.dispatchEvent(new CustomEvent("vestiva:ready",{detail:{containerId:this.config.containerId}}))}catch(t){throw console.error("Failed to initialize widget:",t),window.dispatchEvent(new CustomEvent("vestiva:error",{detail:{error:t}})),t}})}render(){if(!this.root)return;const{view:t="dashboard",accountId:a,mode:s="embedded",enabledSections:o}=this.config;try{this.root.render(e.jsx(x.StrictMode,{children:e.jsx(R.MemoryRouter,{children:e.jsx(nn,{children:e.jsx(ws,{initialTheme:this.config.theme,children:e.jsx(ln,{token:this.config.token,children:t==="dashboard"?e.jsx(Jn,{embedded:s==="embedded",enabledSections:o}):e.jsx(fi,{embedded:s==="embedded",accountId:a,enabledSections:o})})})})})}))}catch(c){throw console.error("Failed to render widget:",c),window.dispatchEvent(new CustomEvent("vestiva:error",{detail:{error:c}})),c}}destroy(){this.root&&(this.root.unmount(),this.root=null)}}return typeof window!="undefined"&&(window.VestivaWidget=Ua),Ua});
//# sourceMappingURL=widget.bundle.js.map
